<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> CUK Academic Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
      /* Smooth fade-in animation */
      .fade-in {
        animation: fadeIn 0.5s ease-in forwards;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Active tab styling using muted blue-gray gradient */
      .tab-active {
        background: linear-gradient(135deg, #718096 0%, #4a5568 100%);
        color: #f7fafc;
      }

      /* Grade color palette - subtle and professional */
      .grade-A {
        background-color: #b4c4ba; /* green-400 */
      }
      .grade-B {
        background-color: #8a99a5; /* blue-400 */
      }
      .grade-C {
        background-color: #e1d7ca; /* orange-400 */
      }
      .grade-D {
        background-color: #b8a9a9; /* red-600 */
      }

      /* Custom scrollbar for tables */
      ::-webkit-scrollbar {
        height: 8px;
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #edf2f7;
      }
      ::-webkit-scrollbar-thumb {
        background: #a0aec0;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #949ba4;
      }
    </style>
  </head>

  <body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->  
    <header class="bg-white shadow-lg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-6">
          <div class="flex items-center">
            <div
              class="w-16 h-16 rounded-full flex items-center justify-center shadow-lg"
            >
              <img src="./images/CUK_New_Logo.png" alt="" />
            </div>
            <div class="ml-4">
              <h1 class="text-2xl font-bold text-gray-900">
                Central University of Kashmir
              </h1>
              <!-- <p class="text-gray-600">Academic Management Portal</p> -->
            </div>
          </div>
          <div class="flex items-center space-x-4">
            <!-- <button onclick="showLoginModal('teacher')" id="teacherTab" class="px-6 py-3 rounded-lg font-semibold transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300">
                         Teacher Portal
                    </button>
                    <button onclick="showLoginModal('student')" id="studentTab" class="px-6 py-3 rounded-lg font-semibold transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300">
                     Student Portal
                    </button> -->
            <button
              onclick="logout()"
              id="logoutBtn"
              class="px-6 py-3 rounded-lg font-semibold transition-all duration-300 bg-red-600 text-white hover:bg-red-700 hidden"
            >
              Logout
            </button>
          </div>
        </div>
      </div>
    </header>

     <!-- Registration Modal -->
 <div id="registrationModal" class="fixed inset-0 bg-black flex items-center justify-center z-50 hidden">
         <div class="premium-card rounded-2xl max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-8">
                <div class="w-20 h-20 university-primary rounded-2xl flex items-center justify-center mx-auto mb-6 premium-shadow">
                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H11V21H5V3H13V9H21Z"/>
                    <img src="./images/CUK_New_Logo.png">
                      </svg>
                </div>
                <h2 id="registrationTitle" class="text-3xl font-bold block text-xl font-semibold text-white ">New Registration</h2>
                <p id="registrationSubtitle" class="text-slate-600 mt-3 block text-sm font-semibold text-white font-medium">Central University of Kashmir</p>
                <div class="w-16 h-1 bg-slate-600 rounded-full mx-auto mt-2"></div>
            </div>
            
            <form id="registrationForm" onsubmit="handleRegistration(event)">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-semibold text-white mb-2">First Name *</label>
                        <input type="text" id="regFirstName" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800 bg-gray-100"  placeholder="Enter first name" required>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-white mb-2">Last Name *</label>
                        <input type="text" id="regLastName" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800 bg-gray-100" placeholder="Enter last name" required>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-semibold text-white mb-2">Email Address *</label>
                    <input type="email" id="regEmail" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800 bg-gray-100"  placeholder="Enter email address" required>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-semibold text-white mb-2">Phone Number *</label>
                    <input type="tel" id="regPhone" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800 bg-gray-100"  placeholder="Enter phone number" required>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-semibold text-white mb-2">Registration Type *</label>
                    <select id="regType" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800 bg-gray-100"  required onchange="toggleRegistrationFields()">
                        <option value="">Select Registration Type</option>
                        <option value="student">Student Registration</option>
                        <option value="faculty">Faculty Registration</option>
                    </select>
                </div>
                
                <!-- Student Specific Fields -->
                <div id="studentFields" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Course/Program *</label>
                            <select id="regCourse" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800">
                                <option value="">Select Course</option>
                                <option value="btech-cse">B.Tech Computer Science</option>
                                <option value="btech-civil">B.Tech Civil</option>
                                <option value="mtech-cse">M.Tech Computer Science</option>
                                <option value="mba">MBA</option>
                                <option value="bba">BBA</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Year of Study *</label>
                            <select id="regYear" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800">
                                <option value="">Select Year</option>
                                <option value="1">1st Year</option>
                                <option value="2">2nd Year</option>
                                <option value="3">3rd Year</option>
                                <option value="4">4th Year</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Faculty Specific Fields -->
                <div id="facultyFields" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Department *</label>
                            <select id="regDepartment" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800">
                                <option value="">Select Department</option>
                                <option value="cse">Computer Science & Engineering</option>
                                <option value="ece">Electronics & Communication</option>
                                <option value="mathematics">Mathematics</option>
                                <option value="physics">Physics</option>
                                <option value="chemistry">Chemistry</option>
                                <option value="management">Management Studies</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Designation *</label>
                            <select id="regDesignation" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800">
                                <option value="">Select Designation</option>
                                <option value="professor">Professor</option>
                                <option value="associate-professor">Associate Professor</option>
                                <option value="assistant-professor">Assistant Professor</option>
                                <option value="lecturer">Lecturer</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-semibold text-white mb-2">Password *</label>
                        <input type="password" id="regPassword" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800" placeholder="Create password" required>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-white mb-2">Confirm Password *</label>
                        <input type="password" id="regConfirmPassword" class="professional-input w-full px-4 py-3 rounded-xl font-medium text-slate-800" placeholder="Confirm password" required>
                    </div>
                </div>
         <div class="mb-6">
  <label class="flex items-start space-x-3">
    <input type="checkbox" id="regTerms" class="mt-1 rounded border-slate-300" required>
    <span class="text-sm text-white">
      I agree to the 
      <a href="#" class="text-blue-400 hover:text-blue-300 font-medium">Terms and Conditions</a> 
      and 
      <a href="#" class="text-blue-400 hover:text-blue-300 font-medium">Privacy Policy</a> 
      of Central University of Kashmir.
    </span>
  </label>
</div>

                
                <div class="flex space-x -4 mb-6">
                    <button type="submit" class="flex-1 executive-button text-white py-4 px-6 rounded-xl font-bold text-lg">
                        Submit Registration
                    </button>
                    <button type="button" onclick="closeRegistrationModal()" class="flex-1 university-secondary text-white py-4 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all duration-300">
                        Cancel
                    </button>
                </div>
            </form>
            
            <!-- Registration Info -->
            <div class="mt-8 p-6 bg-blue-50 rounded-xl border border-blue-200">
                <h4 class="font-bold text-sm text-blue-800 mb-3">Registration Process</h4>
                <div class="text-sm text-blue-700 space-y-2">
                    <div>• Your registration will be reviewed by the administration</div>
                    <div>• You will receive a confirmation email within 24-48 hours</div>
                    <div>• Login credentials will be provided after approval</div>
                    <div>• For urgent queries, contact: +91-194-2424000</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="fixed inset-0 bg-black flex items-center justify-center z-50 hidden">
        <div class="premium-card rounded-2xl premium-shadow p-10 max-w-lg w-full mx-4 fade-in border-t-4 border-slate-600">
            <div class="text-center mb-8">
                <div class="w-20 h-20 university-primary rounded-2xl flex items-center justify-center mx-auto mb-6 premium-shadow">
                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"/>
                    </svg>
                </div>
                <h2 class="text-3xl font-bold text-white">Reset Password</h2>
<p class="text-gray-300 mt-3 font-medium">Central University of Kashmir</p>
<div class="w-16 h-1 bg-gray-400 rounded-full mx-auto mt-2"></div>
            </div>
            
            <div id="forgotPasswordStep1">
                <form id="forgotPasswordForm" onsubmit="handleForgotPassword(event)">
                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-200 mb-3">User Type</label>

                        <select id="forgotUserType" class="professional-input w-full px-5 py-4 rounded-xl font-medium text-slate-800" required>
                            <option value="">Select User Type</option>
                            <option value="student">Student</option>
                            <option value="faculty">Faculty</option>
                        </select>
                    </div>
                    
                    <div class="mb-6">
                        <label id="forgotIdLabel" class="block text-sm font-semibold text-gray-200 mb-3">Email Address or ID</label>

                        <input type="text" id="forgotId" class="professional-input w-full px-5 py-4 rounded-xl font-medium text-slate-800" placeholder="Enter your email or ID" required>
                    </div>
                    
                    <div class="flex space-x-4 mb-6">
                        <button type="submit" class="flex-1 executive-button text-white py-4 px-6 rounded-xl font-bold text-lg">
                            Send Reset Link
                        </button>
                        <button type="button" onclick="closeForgotPasswordModal()" class="flex-1 university-secondary text-white py-4 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all duration-300">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <div id="forgotPasswordStep2" class="hidden">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-2">Reset Link Sent!</h3>
                    <p class="text-slate-600 text-sm">We've sent a password reset link to your email address. Please check your inbox and follow the instructions.</p>
                </div>
                
                <button onclick="closeForgotPasswordModal()" class="w-full executive-button text-white py-4 px-6 rounded-xl font-bold text-lg">
                    Close
                </button>
            </div>
            
            <!-- Help Section -->
            <div class="mt-8 p-6 bg-yellow-50 rounded-xl border border-yellow-200">
                <h4 class="font-bold text-sm text-yellow-800 mb-3">Need Help?</h4>
                <div class="text-sm text-yellow-700 space-y-2">
                    <div>• Check your spam/junk folder for the reset email</div>
                    <div>• Reset link expires in 24 hours</div>
                    <div>• Contact IT Support: support@cukashmir.ac.in</div>
                    <div>• Call: +91-194-2424000 (Ext: 123)</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
   <div id="loginModal" class="fixed inset-0 bg-gray-900 flex items-center justify-center z-50 hidden">

        <div class="premium-card rounded-2xl">
            <div class="text-center mb-8">
                <div id="loginIcon" class="w-20 h-20 university-primary rounded-2xl flex items-center justify-center mx-auto mb-6 premium-shadow">
                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h2 id="loginTitle" class="text-3xl font-bold text-slate-800 text-white">User Login</h2>
                <p id="loginSubtitle" class="text-slate-600 mt-3 font-medium text-gray-200">Central University of Kashmir</p>
                <div class="w-16 h-1 bg-slate-600 rounded-full mx-auto mt-2"></div>
            </div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="mb-6">
                    <label id="loginIdLabel" class="block text-sm font-semibold text-slate-700 mb-3 text-white ">Email Address</label>
                    <input type="email" id="loginId" class="professional-input w-full px-5 py-4 rounded-xl font-medium text-slate-800" placeholder="Enter your email address" required>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-slate-700 mb-3 text-white">Password</label>
                    <input type="password" id="loginPassword" class="professional-input w-full px-5 py-4 rounded-xl font-medium text-slate-800" placeholder="Enter your password" required>
                </div>
                
                <div class="flex space-x-4 mb-6">
                    <button type="submit" class="flex-1 executive-button text-white py-4 px-6 rounded-xl font-bold text-lg">
                        Login
                    </button>
                    <button type="button" onclick="closeLoginModal()" class="flex-1 university-secondary text-white py-4 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all duration-300">
                        Cancel
                    </button>
                </div>
                
                <!-- Additional Options -->
                <div class="flex justify-between text-sm">
                    <button type="button" onclick="showRegistration()" class="text-slate-600  text-gray-200 hover:text-slate-800 font-medium ">New Registration</button>
                    <button type="button" onclick="showForgotPassword()" class="text-slate-600 text-gray-200 hover:text-slate-800 font-medium">Forgot Password?</button>
                </div>
            </form>
            
            <!-- Demo Credentials -->
            <div class="mt-8 p-6 bg-slate-50 rounded-xl border border-slate-200">
                <h4 class="font-bold text-sm text-slate-800 mb-3">Demo Credentials - WORKING</h4>
                <div id="demoCredentials" class="text-sm text-slate-700 space-y-2 font-medium">
                    <div class="flex justify-between"><span>Demo Student:</span> <code class="bg-slate-200 px-2 py-1 rounded">demo@student.com / demo123</code></div>
                    <div class="flex justify-between"><span>Test Student:</span> <code class="bg-slate-200 px-2 py-1 rounded">test@student.com / test123</code></div>
                    <div class="flex justify-between"><span>John Student:</span> <code class="bg-slate-200 px-2 py-1 rounded">john@student.com / student123</code></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Welcome Section -->
    <div id="welcomeSection" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
        <div class="text-center fade-in">
            <div class="premium-card p-12 rounded-3xl mb-12 ">
                <div class="w-32 h-32 university-primary rounded-3xl flex items-center justify-center mx-auto mb-10 premium-shadow">
                    <svg class="w-20 h-20 text-white" fill="currentColor">
                        <path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/>
                        <img src="./images/CUK_New_Logo.png">
                    </svg>
                </div>
                <h3 class="text-6xl font-bold bg-gradient-to-r from-slate-800 via-slate-700 to-slate-600 bg-clip-text text-transparent mb-4 pb-4 ">Academic Management Portal</h3>
                <div class="w-32 h-1 bg-gradient-to-r from-blue-900 to-blue-700 rounded-full mx-auto mb-6"></div>
          
               
                <div class="flex flex-col sm:flex-row gap-6 justify-center">
                    <button onclick="showLoginModal('teacher')" class="executive-button bg-gray-400 hover:bg-gray-500 text-white px-12 py-6 rounded-2xl font-bold text-xl shadow-md hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-3">
                        
                        <span>Faculty Login</span>
                    </button>
                   <button onclick="showLoginModal('student')" 
    class="university-secondary bg-gray-400 hover:bg-gray-500 text-white px-12 py-6 rounded-2xl font-bold text-xl shadow-md hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-3">
    
    <span>Student Login</span>
</button>

                </div>
            </div>
            
           
        </div>
    </div>

    <!-- Teacher Section -->
    <div
      id="teacherSection"
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden"
    >
      <div class="fade-in">
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Teacher Dashboard
          </h2>

          <!-- Teacher Navigation -->
          <div class="flex flex-wrap gap-2 mb-6">
            <button
              onclick="showTeacherTab('notices')"
              id="teacherNoticesTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 tab-active"
            >
              Notices
            </button>
            <button
              onclick="showTeacherTab('marks')"
              id="teacherMarksTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Manage Marks
            </button>
            <button
              onclick="showTeacherTab('attendance')"
              id="teacherAttendanceTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Attendance
            </button>
            <button
              onclick="showTeacherTab('assignments')"
              id="teacherAssignmentsTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Assignments
            </button>
            <button
              onclick="showTeacherTab('resources')"
              id="teacherResourcesTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Resources
            </button>
            <button
              onclick="showTeacherTab('leave')"
              id="teacherLeaveTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Leave Management
            </button>
          </div>

          <!-- Teacher Notices Management -->
          <div id="teacherNotices" class="teacher-content">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Notice Management
              </h3>

              <!-- Create New Notice -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Create New Notice
                </h4>
                <form id="noticeForm" onsubmit="createNotice(event)">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Notice Title</label
                      >
                      <input
                        type="text"
                        id="noticeTitle"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        placeholder="Enter notice title"
                        required
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Priority</label
                      >
                      <select
                        id="noticePriority"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      >
                        <option value="normal">Normal</option>
                        <option value="important">Important</option>
                        <option value="urgent">Urgent</option>
                      </select>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Target Audience</label
                      >
                      <select
                        id="noticeAudience"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      >
                        <option value="all">All Students</option>
                        <option value="class">Specific Class</option>
                        <option value="subject">Subject Students</option>
                      </select>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Expiry Date</label
                      >
                      <input
                        type="date"
                        id="noticeExpiry"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      />
                    </div>
                  </div>
                  <div class="mb-4">
                    <label class="block text-sm font-medium mb-2 text-gray-900"
                      >Notice Content</label
                    >
                    <textarea
                      id="noticeContent"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      rows="4"
                      placeholder="Enter notice content..."
                      required
                    ></textarea>
                  </div>
                  <div class="flex space-x-3">
                    <button
                      type="submit"
                      class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700"
                    >
                      Publish Notice
                    </button>
                    <button
                      type="button"
                      onclick="clearNoticeForm()"
                      class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600"
                    >
                      Clear Form
                    </button>
                  </div>
                </form>
              </div>

              <!-- Published Notices -->
              <div class="bg-white rounded-lg p-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Published Notices
                </h4>
                <div class="space-y-4" id="publishedNoticesList">
                  <div class="border rounded-lg p-4 border-l-4 border-red-500">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Mid-Term Examination Schedule
                        </h5>
                        <p class="text-sm text-gray-600">
                          Published: Jan 15, 2024 • Expires: Feb 15, 2024
                        </p>
                        <span
                          class="px-2 py-1 bg-red-100 text-red-800 rounded text-sm"
                          >Urgent</span
                        >
                      </div>
                      <div class="flex space-x-2">
                        <button
                          onclick="editNotice('N001')"
                          class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                        >
                          Edit
                        </button>
                        <button
                          onclick="deleteNotice('N001')"
                          class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
                        >
                          Delete
                        </button>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Mid-term examinations will be conducted from February
                      1-10, 2024. Please check the detailed schedule...
                    </p>
                    <div class="text-xs text-gray-500">
                      Target: All Students • Views: 156 • Notifications Sent:
                      200
                    </div>
                  </div>

                  <div
                    class="border rounded-lg p-4 border-l-4 border-yellow-500"
                  >
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Library Hours Extended
                        </h5>
                        <p class="text-sm text-gray-600">
                          Published: Jan 12, 2024 • Expires: Jan 31, 2024
                        </p>
                        <span
                          class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm"
                        >
                          Important</span
                        >
                      </div>
                      <div class="flex space-x-2">
                        <button
                          onclick="editNotice('N002')"
                          class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                        >
                          Edit
                        </button>
                        <button
                          onclick="deleteNotice('N002')"
                          class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
                        >
                          Delete
                        </button>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Library hours have been extended till 10 PM during
                      examination period...
                    </p>
                    <div class="text-xs text-gray-500">
                      Target: All Students • Views: 89 • Notifications Sent: 200
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Teacher Marks Management -->
          <div id="teacherMarks" class="teacher-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Student Marks Management
              </h3>

              <!-- Excel Upload Section -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Excel File Management
                </h4>

                <!-- Upload Excel File -->
                <div class="mb-6">
                  <div
                    id="dropZone"
                    class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors"
                  >
                    <div class="mb-4">
                      <svg
                        class="mx-auto h-12 w-12 text-gray-400"
                        stroke="currentColor"
                        fill="none"
                        viewBox="0 0 48 48"
                      >
                        <path
                          d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                    <div class="mb-4">
                      <label for="excelFile" class="cursor-pointer">
                        <span
                          class="mt-2 block text-sm font-medium text-gray-900"
                        >
                          Click to upload Excel file or drag and drop
                        </span>
                        <span class="mt-1 block text-xs text-gray-500">
                          Supports .xlsx, .xls files (Max 10MB)
                        </span>
                      </label>
                      <input
                        type="file"
                        id="excelFile"
                        name="excelFile"
                        accept=".xlsx,.xls,.csv"
                        class="hidden"
                        onchange="handleExcelUpload(event)"
                      />
                    </div>
                    <button
                      onclick="document.getElementById('excelFile').click()"
                      class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                    >
                      Choose Excel File
                    </button>
                  </div>
                </div>

                <!-- Template Download -->
                <div class="bg-blue-50 rounded-lg p-4 mb-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <h5 class="font-semibold text-blue-900">
                        Download Excel Template
                      </h5>
                      <p class="text-sm text-blue-700">
                        Download the standard template with proper column
                        headers
                      </p>
                    </div>
                    <button
                      onclick="downloadTemplate()"
                      class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                    >
                      Download Template
                    </button>
                  </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-yellow-50 rounded-lg p-4 mb-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <h5 class="font-semibold text-yellow-900">
                        Quick Actions
                      </h5>
                      <p class="text-sm text-yellow-700">
                        Load sample data or clear the table
                      </p>
                    </div>
                    <div class="flex space-x-2">
                      <button
                        onclick="loadSampleData()"
                        class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"
                      >
                        Load Sample Data
                      </button>
                      <button
                        onclick="clearAllData()"
                        class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"
                      >
                        Clear Table
                      </button>
                    </div>
                  </div>
                </div>

                <!-- File Status -->
                <div id="fileStatus" class="hidden">
                  <div
                    class="bg-green-50 border border-green-200 rounded-lg p-4"
                  >
                    <div class="flex items-center">
                      <div class="flex-shrink-0">
                        <svg
                          class="h-5 w-5 text-green-400"
                          viewBox="0 0 20 20"
                          fill="currentColor"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                            clip-rule="evenodd"
                          />
                        </svg>
                      </div>
                      <div class="ml-3">
                        <p
                          class="text-sm font-medium text-green-800"
                          id="fileStatusText"
                        >
                          Excel file uploaded successfully!
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Subject Selection for Marks -->
              <div class="bg-white rounded-lg p-4 mb-6 shadow">
                <div class="flex items-center justify-between mb-4">
                  <h4 class="font-semibold text-gray-900">
                    Select Subject to Manage
                  </h4>
                  <div class="flex space-x-2">
                    <button
                      onclick="exportMarks()"
                      class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"
                    >
                      Export to Excel
                    </button>
                    <button
                      onclick="saveAllMarks()"
                      class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700"
                    >
                      Save All Changes
                    </button>
                  </div>
                </div>
                <select
                  id="subjectSelectTeacher"
                  onchange="loadSubjectMarks()"
                  class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                >
                  <option value="mathematics">Mathematics</option>
                  <option value="physics">Physics</option>
                  <option value="chemistry">Chemistry</option>
                  <option value="computer-science">Computer Science</option>
                </select>
              </div>

              <!-- Marks Table -->
              <div class="bg-white rounded-lg shadow overflow-hidden">
                <div class="px-6 py-4 bg-gray-100 border-b">
                  <h4 class="font-semibold text-gray-900">
                    Student Marks -
                    <span id="currentSubjectName">Mathematics</span>
                  </h4>
                  <p class="text-sm text-gray-600 mt-1">
                    Click on any cell to edit marks directly
                  </p>
                </div>

                <div class="overflow-x-auto">
                  <table class="w-full" id="marksTable">
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-4 py-3 text-left font-semibold text-gray-900 border-r"
                        >
                          Roll No.
                        </th>
                        <th
                          class="px-4 py-3 text-left font-semibold text-gray-900 border-r"
                        >
                          Student Name
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 border-r bg-blue-50"
                        >
                          Test I<br /><span class="text-xs font-normal"
                            >(Out of 15)</span
                          >
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 border-r bg-green-50"
                        >
                          Test II<br /><span class="text-xs font-normal"
                            >(Out of 15)</span
                          >
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 border-r bg-purple-50"
                        >
                          Presentation<br /><span class="text-xs font-normal"
                            >(Out of 10)</span
                          >
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 border-r bg-yellow-50"
                        >
                          Assignment<br /><span class="text-xs font-normal"
                            >(Out of 5)</span
                          >
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 border-r bg-indigo-50"
                        >
                          Attendance %
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 border-r bg-indigo-50"
                        >
                          Attendance Marks<br /><span
                            class="text-xs font-normal"
                            >(Out of 5)</span
                          >
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 bg-gray-100"
                        >
                          Total<br /><span class="text-xs font-normal"
                            >(Out of 50)</span
                          >
                        </th>
                        <th
                          class="px-4 py-3 text-center font-semibold text-gray-900 bg-gray-100"
                        >
                          Grade
                        </th>
                      </tr>
                    </thead>
                    <tbody id="marksTableBody">
                      <!-- Real student data from Central University of Kashmir -->
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr01
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          ABDUL WARIS
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr02
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          ABRAAR SAJAD
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr03
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          ADNAAN ZARGAR
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr04
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          AFAAN HUSSAIN
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr05
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          AINAM MUSHTAQ
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr06
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          ALEEM KANYU
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr07
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          ARSALAN YOUSUF
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr08
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          ASEEF BANDEY
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr09
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          ATISHAM
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                      <tr class="border-b hover:bg-gray-50">
                        <td
                          class="px-4 py-3 text-gray-900 border-r font-medium"
                        >
                          2324CUKmr10
                        </td>
                        <td class="px-4 py-3 text-gray-900 border-r">
                          BIAL AHMAD
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="15"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="10"
                            step="0.5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="5"
                            onchange="calculateTotal(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <input
                            type="number"
                            value=""
                            class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center"
                            min="0"
                            max="100"
                            onchange="calculateAttendanceMarks(this)"
                          />
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                          <span
                            class="attendance-marks font-semibold text-gray-600"
                            >-</span
                          >
                        </td>
                        <td
                          class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks"
                        >
                          -
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                          <span
                            class="px-2 py-1 rounded text-white grade-D grade-display"
                            >-</span
                          >
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <!-- Attendance Marking Guide -->
                <div class="px-6 py-4 bg-blue-50 border-t">
                  <h5 class="font-semibold text-blue-900 mb-2">
                    Attendance Marking Guide:
                  </h5>
                  <div class="grid grid-cols-2 md:grid-cols-6 gap-2 text-xs">
                    <div class="bg-green-100 text-green-800 px-2 py-1 rounded">
                      95%+ = 5 marks
                    </div>
                    <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded">
                      90-95% = 4 marks
                    </div>
                    <div
                      class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded"
                    >
                      85-90% = 3 marks
                    </div>
                    <div
                      class="bg-orange-100 text-orange-800 px-2 py-1 rounded"
                    >
                      80-85% = 2 marks
                    </div>
                    <div
                      class="bg-purple-100 text-purple-800 px-2 py-1 rounded"
                    >
                      75-80% = 1 mark
                    </div>
                    <div class="bg-red-100 text-red-800 px-2 py-1 rounded">
                      Below 75% = Ineligible
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Teacher Attendance Management -->
          <div id="teacherAttendance" class="teacher-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Attendance Management
              </h3>
              <div class="mb-4">
                <label class="block text-sm font-medium mb-2 text-gray-900"
                  >Select Date:</label
                >
                <input
                  type="date"
                  id="attendanceDate"
                  class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                  value="2024-01-15"
                />
              </div>
              <div class="overflow-x-auto">
                <table class="w-full bg-white rounded-lg shadow">
                  <thead class="bg-gray-100">
                    <tr>
                      <th
                        class="px-4 py-3 text-left font-semibold text-gray-900"
                      >
                        Student ID
                      </th>
                      <th
                        class="px-4 py-3 text-left font-semibold text-gray-900"
                      >
                        Name
                      </th>
                      <th
                        class="px-4 py-3 text-left font-semibold text-gray-900"
                      >
                        Class
                      </th>
                      <th
                        class="px-4 py-3 text-left font-semibold text-gray-900"
                      >
                        Status
                      </th>
                      <th
                        class="px-4 py-3 text-left font-semibold text-gray-900"
                      >
                        Actions
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-b hover:bg-gray-50">
                      <td class="px-4 py-3 text-gray-900">ST001</td>
                      <td class="px-4 py-3 text-gray-900">XYZ</td>
                      <td class="px-4 py-3 text-gray-900">CS-101</td>
                      <td class="px-4 py-3">
                        <select
                          class="px-2 py-1 border rounded bg-white text-gray-900"
                        >
                          <option value="present" selected>Present</option>
                          <option value="absent">Absent</option>
                          <option value="late">Late</option>
                          <option value="leave">On Leave</option>
                        </select>
                      </td>
                      <td class="px-4 py-3">
                        <button
                          onclick="updateAttendance('ST001')"
                          class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                        >
                          Save
                        </button>
                      </td>
                    </tr>
                    <tr class="border-b hover:bg-gray-50">
                      <td class="px-4 py-3 text-gray-900">ST002</td>
                      <td class="px-4 py-3 text-gray-900">LMN</td>
                      <td class="px-4 py-3 text-gray-900">CS-102</td>
                      <td class="px-4 py-3">
                        <select
                          class="px-2 py-1 border rounded bg-white text-gray-900"
                        >
                          <option value="present">Present</option>
                          <option value="absent">Absent</option>
                          <option value="late">Late</option>
                          <option value="leave" selected>On Leave</option>
                        </select>
                      </td>
                      <td class="px-4 py-3">
                        <button
                          onclick="updateAttendance('ST002')"
                          class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                        >
                          Save
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Teacher Assignments Management -->
          <div id="teacherAssignments" class="teacher-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Assignment Management
              </h3>

              <!-- Create New Assignment -->
              <div class="bg-white rounded-lg p-4 mb-6 shadow">
                <h4 class="font-semibold mb-3 text-gray-900">
                  Create New Assignment
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Assignment Title</label
                    >
                    <input
                      type="text"
                      id="assignmentTitle"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      placeholder="Enter assignment title"
                    />
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Subject</label
                    >
                    <select
                      id="assignmentSubject"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                    >
                      <option>Computer Organization & Architecture</option>
                      <option>Computer Graphics</option>
                      <option>Data Communications</option>
                      <option>Operating Systems</option>
                      <option>Web Design and Development</option>
                      <option>Mathematics 3</option>
                      <option>Basic Electronics</option>
                      <option>Data Structures</option>
                      <option>Database Management System</option>
                      <option>Environmental Studies</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Due Date</label
                    >
                    <input
                      type="date"
                      id="assignmentDueDate"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                    />
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Max Marks</label
                    >
                    <input
                      type="number"
                      id="assignmentMarks"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      placeholder="100"
                    />
                  </div>
                </div>
                <div class="mt-4">
                  <label class="block text-sm font-medium mb-1 text-gray-900"
                    >Description</label
                  >
                  <textarea
                    id="assignmentDescription"
                    class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                    rows="3"
                    placeholder="Assignment description..."
                  ></textarea>
                </div>
                <button
                  onclick="createAssignment()"
                  class="mt-4 bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700"
                >
                  Create Assignment
                </button>
              </div>

              <!-- Existing Assignments -->
              <div class="space-y-4" id="assignmentsList">
                <div class="bg-white rounded-lg p-4 shadow">
                  <div class="flex justify-between items-start">
                    <div>
                      <h5 class="font-semibold text-lg text-gray-900">
                        CPU Scheduling Algorithms
                      </h5>
                      <p class="text-gray-600">
                        Operating Systems • Due: Jan 20, 2024 • Max: 100 marks
                      </p>
                      <p class="text-sm text-gray-500 mt-1">
                        Implement FCFS, SJF, and Round Robin scheduling
                        algorithms
                      </p>
                    </div>
                    <div class="flex space-x-2">
                      <button
                        onclick="editAssignment('A001')"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                      >
                        Edit
                      </button>
                      <button
                        onclick="deleteAssignment('A001')"
                        class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
                      >
                        Delete
                      </button>
                    </div>
                  </div>
                  <div class="mt-3 text-sm">
                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded"
                      >15 Submitted</span
                    >
                    <span
                      class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded ml-2"
                      >5 Pending</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Teacher Resources Management -->
          <div id="teacherResources" class="teacher-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Resource Management
              </h3>

              <!-- Upload New Resource -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Upload New Resource
                </h4>
                <form id="resourceForm" onsubmit="uploadResource(event)">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Resource Title</label
                      >
                      <input
                        type="text"
                        id="resourceTitle"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        placeholder="Enter resource title"
                        required
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Subject</label
                      >
                      <select
                        id="resourceSubject"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      >
                        <option value="">Select Subject</option>
                        <option value="computer-organization">
                          Computer Organization & Architecture
                        </option>
                        <option value="computer-graphics">
                          Computer Graphics
                        </option>
                        <option value="data-communications">
                          Data Communications
                        </option>
                        <option value="operating-systems">
                          Operating Systems
                        </option>
                        <option value="web-development">
                          Web Design and Development
                        </option>
                        <option value="mathematics-3">Mathematics 3</option>
                        <option value="basic-electronics">
                          Basic Electronics
                        </option>
                        <option value="data-structures">Data Structures</option>
                        <option value="database-management">
                          Database Management System
                        </option>
                        <option value="environmental-studies">
                          Environmental Studies
                        </option>
                      </select>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Resource Type</label
                      >
                      <select
                        id="resourceType"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      >
                        <option value="">Select Type</option>
                        <option value="lecture-notes">Lecture Notes</option>
                        <option value="presentation">Presentation</option>
                        <option value="video">Video Tutorial</option>
                        <option value="document">Document</option>
                        <option value="reference">Reference Material</option>
                      </select>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Access Level</label
                      >
                      <select
                        id="resourceAccess"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      >
                        <option value="all">All Students</option>
                        <option value="enrolled">Enrolled Students Only</option>
                        <option value="specific">Specific Class</option>
                      </select>
                    </div>
                  </div>
                  <div class="mb-4">
                    <label class="block text-sm font-medium mb-2 text-gray-900"
                      >Description</label
                    >
                    <textarea
                      id="resourceDescription"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      rows="3"
                      placeholder="Brief description of the resource..."
                    ></textarea>
                  </div>
                  <div class="mb-4">
                    <label class="block text-sm font-medium mb-2 text-gray-900"
                      >File Upload</label
                    >
                    <div
                      class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center"
                    >
                      <svg
                        class="mx-auto h-12 w-12 text-gray-400"
                        stroke="currentColor"
                        fill="none"
                        viewBox="0 0 48 48"
                      >
                        <path
                          d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      <div class="mt-4">
                        <label class="cursor-pointer">
                          <span
                            class="mt-2 block text-sm font-medium text-gray-900"
                          >
                            Click to upload or drag and drop
                          </span>
                          <input
                            type="file"
                            class="hidden"
                            id="resourceFile"
                            accept=".pdf,.doc,.docx,.ppt,.pptx,.mp4,.avi"
                          />
                        </label>
                        <p class="mt-1 text-xs text-gray-500">
                          PDF, DOC, PPT, MP4 up to 50MB
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="flex space-x-3">
                    <button
                      type="submit"
                      class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700"
                    >
                      Upload Resource
                    </button>
                    <button
                      type="button"
                      onclick="clearResourceForm()"
                      class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600"
                    >
                      Clear Form
                    </button>
                  </div>
                </form>
              </div>

              <!-- Uploaded Resources -->
              <div class="bg-white rounded-lg p-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Uploaded Resources
                </h4>
                <div class="space-y-4" id="uploadedResourcesList">
                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-start mb-2">
                      <div class="flex items-start space-x-3">
                        <div
                          class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center"
                        >
                          <span class="text-red-600"></span>
                        </div>
                        <div>
                          <h5 class="font-semibold text-lg text-gray-900">
                            Computer Organization Chapter 3 - Memory Systems
                          </h5>
                          <p class="text-sm text-gray-600">
                            Computer Organization & Architecture • Lecture Notes
                            • Uploaded: Jan 15, 2024
                          </p>
                          <span
                            class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm"
                            >All Students</span
                          >
                        </div>
                      </div>
                      <div class="flex space-x-2">
                        <button
                          onclick="editResource('R001')"
                          class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                        >
                          Edit
                        </button>
                        <button
                          onclick="deleteResource('R001')"
                          class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
                        >
                          Delete
                        </button>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Comprehensive notes on memory hierarchy, cache systems,
                      and virtual memory
                    </p>
                    <div class="text-xs text-gray-500">
                      Downloads: 45 • Size: 2.3 MB • Format: PDF
                    </div>
                  </div>

                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-start mb-2">
                      <div class="flex items-start space-x-3">
                        <div
                          class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center"
                        >
                          <span class="text-green-600"></span>
                        </div>
                        <div>
                          <h5 class="font-semibold text-lg text-gray-900">
                            Data Structures - Binary Tree Implementation
                          </h5>
                          <p class="text-sm text-gray-600">
                            Data Structures • Video Tutorial • Uploaded: Jan 12,
                            2024
                          </p>
                          <span
                            class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm"
                            >Enrolled Students</span
                          >
                        </div>
                      </div>
                      <div class="flex space-x-2">
                        <button
                          onclick="editResource('R002')"
                          class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                        >
                          Edit
                        </button>
                        <button
                          onclick="deleteResource('R002')"
                          class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
                        >
                          Delete
                        </button>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Step-by-step video demonstration of binary tree creation
                      and traversal algorithms
                    </p>
                    <div class="text-xs text-gray-500">
                      Views: 23 • Duration: 15:30 • Size: 45.2 MB • Format: MP4
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Teacher Leave Management -->
          <div id="teacherLeave" class="teacher-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Student Leave Management
              </h3>

              <!-- Leave Applications Overview -->
              <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-yellow-600">5</div>
                  <div class="text-sm text-gray-600">Pending</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-green-600">12</div>
                  <div class="text-sm text-gray-600">Approved</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-red-600">3</div>
                  <div class="text-sm text-gray-600">Rejected</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-blue-600">20</div>
                  <div class="text-sm text-gray-600">Total</div>
                </div>
              </div>

              <!-- Filter Options -->
              <div class="bg-white rounded-lg p-4 mb-6 shadow">
                <div class="flex flex-wrap gap-4 items-center">
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Filter by Status</label
                    >
                    <select
                      id="leaveStatusFilter"
                      class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                    >
                      <option value="all">All Applications</option>
                      <option value="pending">Pending</option>
                      <option value="approved">Approved</option>
                      <option value="rejected">Rejected</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Filter by Type</label
                    >
                    <select
                      id="leaveTypeFilter"
                      class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                    >
                      <option value="all">All Types</option>
                      <option value="sick">Sick Leave</option>
                      <option value="personal">Personal</option>
                      <option value="emergency">Emergency</option>
                      <option value="family">Family Function</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Date Range</label
                    >
                    <input
                      type="date"
                      id="leaveDateFilter"
                      class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                    />
                  </div>
                  <div class="flex items-end">
                    <button
                      onclick="filterLeaveApplications()"
                      class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                    >
                      Filter
                    </button>
                  </div>
                </div>
              </div>

              <!-- Leave Applications List -->
              <div class="space-y-4" id="teacherLeaveApplicationsList">
                <!-- Pending Application -->
                <div
                  class="bg-white rounded-lg p-4 shadow border-l-4 border-yellow-500"
                >
                  <div class="flex justify-between items-start mb-3">
                    <div>
                      <h5 class="font-semibold text-lg text-gray-900">
                        XYZ (ST001)
                      </h5>
                      <p class="text-gray-600">
                        Sick Leave • Jan 18-20, 2024 (3 days)
                      </p>
                      <span
                        class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm font-medium"
                      >
                        Pending Review</span
                      >
                    </div>
                    <div class="text-right">
                      <div class="text-sm text-gray-500">
                        Applied: Jan 17, 2024
                      </div>
                      <div class="text-sm text-gray-500">Priority: Normal</div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <p class="text-sm text-gray-700">
                      <strong>Reason:</strong> Fever and flu symptoms, doctor
                      advised rest
                    </p>
                    <p class="text-sm text-gray-700">
                      <strong>Contact:</strong> +91-9876543210
                    </p>
                  </div>
                  <div class="flex space-x-2">
                    <button
                      onclick="approveLeave('L001')"
                      class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
                    >
                      Approve
                    </button>
                    <button
                      onclick="rejectLeave('L001')"
                      class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
                    >
                      Reject
                    </button>
                    <button
                      onclick="viewLeaveDetails('L001')"
                      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                    >
                      View Details
                    </button>
                  </div>
                </div>

                <!-- Emergency Application -->
                <div
                  class="bg-white rounded-lg p-4 shadow border-l-4 border-red-500"
                >
                  <div class="flex justify-between items-start mb-3">
                    <div>
                      <h5 class="font-semibold text-lg text-gray-900">
                        LMN (ST002)
                      </h5>
                      <p class="text-gray-600">
                        Emergency Leave • Jan 19, 2024 (1 day)
                      </p>
                      <span
                        class="px-2 py-1 bg-red-100 text-red-800 rounded text-sm font-medium"
                      >
                        Emergency</span
                      >
                    </div>
                    <div class="text-right">
                      <div class="text-sm text-gray-500">
                        Applied: Jan 19, 2024
                      </div>
                      <div class="text-sm text-gray-500">
                        Priority: Emergency
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <p class="text-sm text-gray-700">
                      <strong>Reason:</strong> Family emergency - grandfather
                      hospitalized
                    </p>
                    <p class="text-sm text-gray-700">
                      <strong>Contact:</strong> +91-9876543211
                    </p>
                  </div>
                  <div class="flex space-x-2">
                    <button
                      onclick="approveLeave('L002')"
                      class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
                    >
                      Approve
                    </button>
                    <button
                      onclick="rejectLeave('L002')"
                      class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
                    >
                      Reject
                    </button>
                    <button
                      onclick="viewLeaveDetails('L002')"
                      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                    >
                      View Details
                    </button>
                  </div>
                </div>

                <!-- Approved Application -->
                <div
                  class="bg-white rounded-lg p-4 shadow border-l-4 border-green-500"
                >
                  <div class="flex justify-between items-start mb-3">
                    <div>
                      <h5 class="font-semibold text-lg text-gray-900">
                        Mike Wilson (ST003)
                      </h5>
                      <p class="text-gray-600">
                        Family Function • Jan 10-12, 2024 (3 days)
                      </p>
                      <span
                        class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm font-medium"
                      >
                        Approved</span
                      >
                    </div>
                    <div class="text-right">
                      <div class="text-sm text-gray-500">
                        Approved: Jan 6, 2024
                      </div>
                      <div class="text-sm text-gray-500">By: Dr. Smith</div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <p class="text-sm text-gray-700">
                      <strong>Reason:</strong> Sister's wedding ceremony
                    </p>
                    <p class="text-sm text-gray-700">
                      <strong>Approval Note:</strong> Approved. Please catch up
                      on missed lectures.
                    </p>
                  </div>
                  <div class="flex space-x-2">
                    <button
                      onclick="viewLeaveDetails('L003')"
                      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                    >
                      View Details
                    </button>
                    <button
                      onclick="revokeLeave('L003')"
                      class="bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700"
                    >
                      Revoke
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Student Section -->
    <div
      id="studentSection"
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden"
    >
      <div class="fade-in">
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Student Dashboard
          </h2>

          <!-- Student Navigation -->
          <div class="flex flex-wrap gap-2 mb-6">
            <button
              onclick="showStudentTab('notices')"
              id="studentNoticesTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 tab-active"
            >
              Notices
            </button>
            <button
              onclick="showStudentTab('courses')"
              id="studentCoursesTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              My Courses
            </button>
            <button
              onclick="showStudentTab('marks')"
              id="studentMarksTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              My Marks
            </button>
            <button
              onclick="showStudentTab('analytics')"
              id="studentAnalyticsTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Performance
            </button>
            <button
              onclick="showStudentTab('resources')"
              id="studentResourcesTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Resources
            </button>
            <button
              onclick="showStudentTab('assignments')"
              id="studentAssignmentsTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Assignments
            </button>
            <button
              onclick="showStudentTab('library')"
              id="studentLibraryTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Library
            </button>
            <button
              onclick="showStudentTab('leave')"
              id="studentLeaveTab"
              class="px-4 py-2 rounded-lg font-medium transition-all duration-300 bg-gray-200 text-gray-700"
            >
              Leave Applications
            </button>
          </div>

          <!-- Student Notices -->
          <div id="studentNotices" class="student-content">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Latest Notices
              </h3>

              <!-- Notice Filter -->
              <div class="bg-white rounded-lg p-4 mb-6 shadow">
                <div class="flex flex-wrap gap-4 items-center">
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Filter by Priority</label
                    >
                    <select
                      id="noticeFilter"
                      class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                    >
                      <option value="all">All Notices</option>
                      <option value="urgent">Urgent</option>
                      <option value="important">Important</option>
                      <option value="normal">Normal</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1 text-gray-900"
                      >Show</label
                    >
                    <select
                      id="noticeShow"
                      class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                    >
                      <option value="unread">Unread Only</option>
                      <option value="all">All Notices</option>
                      <option value="read">Read Only</option>
                    </select>
                  </div>
                  <div class="flex items-end">
                    <button
                      onclick="filterNotices()"
                      class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                    >
                      Filter
                    </button>
                  </div>
                </div>
              </div>

              <!-- Notices List -->
              <div class="space-y-4" id="studentNoticesList">
                <!-- Urgent Notice -->
                <div
                  class="bg-white rounded-lg p-4 shadow border-l-4 border-red-500"
                >
                  <div class="flex justify-between items-start mb-2">
                    <div class="flex items-start space-x-3">
                      <div class="w-3 h-3 bg-red-500 rounded-full mt-2"></div>
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Mid-Term Examination Schedule
                        </h5>
                        <p class="text-sm text-gray-600">
                          Published: Jan 15, 2024 • Expires: Feb 15, 2024
                        </p>
                        <span
                          class="px-2 py-1 bg-red-100 text-red-800 rounded text-sm"
                          >Urgent</span
                        >
                      </div>
                    </div>
                    <button
                      onclick="markAsRead('N001')"
                      class="text-blue-600 hover:text-blue-800 text-sm"
                    >
                      Mark as Read
                    </button>
                  </div>
                  <p class="text-sm text-gray-700 mb-3">
                    Mid-term examinations will be conducted from February 1-10,
                    2024. Please check the detailed schedule on the university
                    website and prepare accordingly. All students must report 30
                    minutes before the exam time.
                  </p>
                  <div class="flex space-x-2">
                    <button
                      onclick="viewFullNotice('N001')"
                      class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                    >
                      View Full Notice
                    </button>
                    <button
                      onclick="downloadNotice('N001')"
                      class="bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700"
                    >
                      Download PDF
                    </button>
                  </div>
                </div>

                <!-- Important Notice -->
                <div
                  class="bg-white rounded-lg p-4 shadow border-l-4 border-yellow-500"
                >
                  <div class="flex justify-between items-start mb-2">
                    <div class="flex items-start space-x-3">
                      <div
                        class="w-3 h-3 bg-yellow-500 rounded-full mt-2"
                      ></div>
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Library Hours Extended
                        </h5>
                        <p class="text-sm text-gray-600">
                          Published: Jan 12, 2024 • Expires: Jan 31, 2024
                        </p>
                        <span
                          class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm"
                        >
                          Important</span
                        >
                      </div>
                    </div>
                    <span class="text-green-600 text-sm">✓ Read</span>
                  </div>
                  <p class="text-sm text-gray-700 mb-3">
                    Library hours have been extended till 10 PM during
                    examination period starting from January 15, 2024. Students
                    can utilize the extended hours for better preparation.
                  </p>
                  <div class="flex space-x-2">
                    <button
                      onclick="viewFullNotice('N002')"
                      class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                    >
                      View Full Notice
                    </button>
                  </div>
                </div>

                <!-- Normal Notice -->
                <div
                  class="bg-white rounded-lg p-4 shadow border-l-4 border-blue-500"
                >
                  <div class="flex justify-between items-start mb-2">
                    <div class="flex items-start space-x-3">
                      <div class="w-3 h-3 bg-blue-500 rounded-full mt-2"></div>
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          New Course Registration Open
                        </h5>
                        <p class="text-sm text-gray-600">
                          Published: Jan 10, 2024 • Expires: Jan 25, 2024
                        </p>
                        <span
                          class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm"
                          >Normal</span
                        >
                      </div>
                    </div>
                    <button
                      onclick="markAsRead('N003')"
                      class="text-blue-600 hover:text-blue-800 text-sm"
                    >
                      Mark as Read
                    </button>
                  </div>
                  <p class="text-sm text-gray-700 mb-3">
                    Registration for next semester courses is now open. Students
                    can register through the student portal until January 25,
                    2024.
                  </p>
                  <div class="flex space-x-2">
                    <button
                      onclick="viewFullNotice('N003')"
                      class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                    >
                      View Full Notice
                    </button>
                    <button
                      onclick="goToCourseRegistration()"
                      class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                    >
                      Register Now
                    </button>
                  </div>
                </div>
              </div>

              <!-- Notice Statistics -->
              <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-blue-600">8</div>
                  <div class="text-sm text-gray-600">Total Notices</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-red-600">3</div>
                  <div class="text-sm text-gray-600">Unread</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-green-600">5</div>
                  <div class="text-sm text-gray-600">Read</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Student Marks -->
          <div id="studentMarks" class="student-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">My Marks</h3>

              <!-- Subject Selection -->
              <div class="bg-white rounded-lg p-4 mb-6 shadow">
                <label class="block text-sm font-medium mb-2 text-gray-900"
                  >Select Subject:</label
                >
                <select
                  id="subjectSelect"
                  onchange="showSubjectMarks()"
                  class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                >
                  <option value="mathematics">Mathematics</option>
                  <option value="physics">Physics</option>
                  <option value="chemistry">Chemistry</option>
                  <option value="computer-science">Computer Science</option>
                </select>
              </div>

              <!-- Mathematics Marks (Default) -->
              <div id="mathematicsMarks" class="subject-marks">
                <div class="bg-white rounded-lg p-6 shadow">
                  <h4 class="font-semibold text-xl mb-6 text-gray-900">
                    Mathematics - Detailed Marks
                  </h4>

                  <!-- CIA Marks -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-blue-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-blue-800 mb-3">
                        CIA 1 Marks
                      </h5>
                      <div class="text-3xl font-bold text-blue-600 mb-2">
                        8/15
                      </div>
                      <div class="text-sm text-gray-600">
                        Date: Dec 15, 2023
                      </div>
                      <div class="text-sm text-gray-600">
                        Topics: Limits & Derivatives
                      </div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm"
                          >Grade: A</span
                        >
                      </div>
                    </div>

                    <div class="bg-green-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-green-800 mb-3">
                        CIA 2 Marks
                      </h5>
                      <div class="text-3xl font-bold text-green-600 mb-2">
                        9/15
                      </div>
                      <div class="text-sm text-gray-600">
                        Date: Jan 10, 2024
                      </div>
                      <div class="text-sm text-gray-600">
                        Topics: Integration & Applications
                      </div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm"
                          >Grade: A+</span
                        >
                      </div>
                    </div>
                  </div>

                  <!-- Presentation & Assignment Marks -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-purple-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-purple-800 mb-3">
                        Presentation Marks
                      </h5>
                      <div class="text-3xl font-bold text-purple-600 mb-2">
                        8.5/10
                      </div>
                      <div class="text-sm text-gray-600">
                        Topic: Applications of Calculus
                      </div>
                      <div class="text-sm text-gray-600">Date: Jan 8, 2024</div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm"
                          >Grade: A</span
                        >
                      </div>
                    </div>

                    <div class="bg-yellow-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-yellow-800 mb-3">
                        Assignment Marks
                      </h5>
                      <div class="text-3xl font-bold text-yellow-600 mb-2">
                        4/5
                      </div>
                      <div class="text-sm text-gray-600">
                        Assignment 1: Problem Set
                      </div>
                      <div class="text-sm text-gray-600">
                        Submitted: Jan 5, 2024
                      </div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm"
                          >Grade: A</span
                        >
                      </div>
                    </div>
                  </div>

                  <!-- Attendance Marks -->
                  <div class="bg-indigo-50 rounded-lg p-4 mb-6">
                    <h5 class="font-semibold text-lg text-indigo-800 mb-3">
                      Attendance Marks
                    </h5>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                      <div>
                        <div class="text-2xl font-bold text-indigo-600">
                          96%
                        </div>
                        <div class="text-sm text-gray-600">
                          Current Attendance
                        </div>
                      </div>
                      <div>
                        <div class="text-2xl font-bold text-indigo-600">
                          5/5
                        </div>
                        <div class="text-sm text-gray-600">
                          Attendance Marks
                        </div>
                      </div>
                      <div>
                        <span
                          class="px-3 py-1 bg-green-100 text-green-800 rounded text-sm font-medium"
                        >
                          Eligible (95%+)</span
                        >
                      </div>
                    </div>
                    <div class="mt-3 text-xs text-gray-600">
                      <strong>Marking Criteria:</strong> 95%+ = 5 marks | 90-95%
                      = 4 marks | 85-90% = 3 marks | 80-85% = 2 marks | 75-80% =
                      1 mark | Below 75% = Ineligible
                    </div>
                  </div>

                  <!-- Total Marks Summary -->
                  <div class="bg-gray-100 rounded-lg p-4">
                    <h5 class="font-semibold text-lg text-gray-800 mb-3">
                      Total Marks Summary
                    </h5>
                    <div
                      class="grid grid-cols-2 md:grid-cols-5 gap-4 text-center"
                    >
                      <div>
                        <div class="text-lg font-bold text-blue-600">8/15</div>
                        <div class="text-xs text-gray-600">CIA 1</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-green-600">9/15</div>
                        <div class="text-xs text-gray-600">CIA 2</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-purple-600">
                          8.5/10
                        </div>
                        <div class="text-xs text-gray-600">Presentation</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-yellow-600">4/5</div>
                        <div class="text-xs text-gray-600">Assignment</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-indigo-600">5/5</div>
                        <div class="text-xs text-gray-600">Attendance</div>
                      </div>
                    </div>
                    <div class="mt-4 pt-4 border-t text-center">
                      <div class="text-2xl font-bold text-gray-800">
                        34.5/50
                      </div>
                      <div class="text-sm text-gray-600">
                        Total Internal Marks
                      </div>
                      <div class="text-lg font-semibold text-green-600 mt-1">
                        Grade: A+
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Physics Marks (Hidden by default) -->
              <div id="physicsMarks" class="subject-marks hidden">
                <div class="bg-white rounded-lg p-6 shadow">
                  <h4 class="font-semibold text-xl mb-6 text-gray-900">
                    Physics - Detailed Marks
                  </h4>

                  <!-- CIA Marks -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-blue-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-blue-800 mb-3">
                        CIA 1 Marks
                      </h5>
                      <div class="text-3xl font-bold text-blue-600 mb-2">
                        7/15
                      </div>
                      <div class="text-sm text-gray-600">
                        Date: Dec 18, 2023
                      </div>
                      <div class="text-sm text-gray-600">
                        Topics: Mechanics & Waves
                      </div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm"
                          >Grade: B+</span
                        >
                      </div>
                    </div>

                    <div class="bg-green-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-green-800 mb-3">
                        CIA 2 Marks
                      </h5>
                      <div class="text-3xl font-bold text-green-600 mb-2">
                        8.5/15
                      </div>
                      <div class="text-sm text-gray-600">
                        Date: Jan 12, 2024
                      </div>
                      <div class="text-sm text-gray-600">
                        Topics: Thermodynamics
                      </div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm"
                          >Grade: A</span
                        >
                      </div>
                    </div>
                  </div>

                  <!-- Presentation & Assignment Marks -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-purple-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-purple-800 mb-3">
                        Presentation Marks
                      </h5>
                      <div class="text-3xl font-bold text-purple-600 mb-2">
                        9/10
                      </div>
                      <div class="text-sm text-gray-600">
                        Topic: Quantum Mechanics
                      </div>
                      <div class="text-sm text-gray-600">
                        Date: Jan 15, 2024
                      </div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm"
                          >Grade: A+</span
                        >
                      </div>
                    </div>

                    <div class="bg-yellow-50 rounded-lg p-4">
                      <h5 class="font-semibold text-lg text-yellow-800 mb-3">
                        Assignment Marks
                      </h5>
                      <div class="text-3xl font-bold text-yellow-600 mb-2">
                        5/5
                      </div>
                      <div class="text-sm text-gray-600">
                        Assignment 1: Lab Report
                      </div>
                      <div class="text-sm text-gray-600">
                        Submitted: Jan 10, 2024
                      </div>
                      <div class="mt-2">
                        <span
                          class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm"
                          >Grade: A+</span
                        >
                      </div>
                    </div>
                  </div>

                  <!-- Attendance Marks -->
                  <div class="bg-indigo-50 rounded-lg p-4 mb-6">
                    <h5 class="font-semibold text-lg text-indigo-800 mb-3">
                      Attendance Marks
                    </h5>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                      <div>
                        <div class="text-2xl font-bold text-indigo-600">
                          88%
                        </div>
                        <div class="text-sm text-gray-600">
                          Current Attendance
                        </div>
                      </div>
                      <div>
                        <div class="text-2xl font-bold text-indigo-600">
                          3/5
                        </div>
                        <div class="text-sm text-gray-600">
                          Attendance Marks
                        </div>
                      </div>
                      <div>
                        <span
                          class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded text-sm font-medium"
                          >⚠️ Eligible (85-90%)</span
                        >
                      </div>
                    </div>
                  </div>

                  <!-- Total Marks Summary -->
                  <div class="bg-gray-100 rounded-lg p-4">
                    <h5 class="font-semibold text-lg text-gray-800 mb-3">
                      Total Marks Summary
                    </h5>
                    <div
                      class="grid grid-cols-2 md:grid-cols-5 gap-4 text-center"
                    >
                      <div>
                        <div class="text-lg font-bold text-blue-600">7/10</div>
                        <div class="text-xs text-gray-600">CIA 1</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-green-600">
                          8.5/10
                        </div>
                        <div class="text-xs text-gray-600">CIA 2</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-purple-600">
                          9/10
                        </div>
                        <div class="text-xs text-gray-600">Presentation</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-yellow-600">5/5</div>
                        <div class="text-xs text-gray-600">Assignment</div>
                      </div>
                      <div>
                        <div class="text-lg font-bold text-indigo-600">3/5</div>
                        <div class="text-xs text-gray-600">Attendance</div>
                      </div>
                    </div>
                    <div class="mt-4 pt-4 border-t text-center">
                      <div class="text-2xl font-bold text-gray-800">
                        32.5/50
                      </div>
                      <div class="text-sm text-gray-600">
                        Total Internal Marks
                      </div>
                      <div class="text-lg font-semibold text-green-600 mt-1">
                        Grade: A
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Student Courses -->
          <div id="studentCourses" class="student-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                My Courses
              </h3>

              <!-- Course Enrollment Status -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Enrollment Status
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                  <div class="text-center p-4 bg-blue-50 rounded-lg">
                    <div class="text-2xl font-bold text-blue-600">6</div>
                    <div class="text-sm text-gray-600">Enrolled Courses</div>
                  </div>
                  <div class="text-center p-4 bg-green-50 rounded-lg">
                    <div class="text-2xl font-bold text-green-600">18</div>
                    <div class="text-sm text-gray-600">Total Credits</div>
                  </div>
                  <div class="text-center p-4 bg-yellow-50 rounded-lg">
                    <div class="text-2xl font-bold text-yellow-600">2</div>
                    <div class="text-sm text-gray-600">Pending Approval</div>
                  </div>
                  <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <div class="text-2xl font-bold text-purple-600">3.8</div>
                    <div class="text-sm text-gray-600">Current GPA</div>
                  </div>
                </div>
              </div>

              <!-- Enrolled Courses -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Currently Enrolled Courses
                </h4>
                <div class="space-y-4">
                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Computer Organization & Architecture
                        </h5>
                        <p class="text-sm text-gray-600">
                          COA-301 • Mr. ABC • 3 Credits
                        </p>
                        <span
                          class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm"
                          >Enrolled</span
                        >
                      </div>
                      <div class="text-right">
                        <div class="text-sm text-gray-500">
                          Current Grade: A
                        </div>
                        <div class="text-sm text-gray-500">Attendance: 95%</div>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Computer architecture, memory systems, and processor
                      design
                    </p>
                    <div class="flex space-x-2">
                      <button
                        onclick="viewCourseDetails('COA301')"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                      >
                        View Details
                      </button>
                      <button
                        onclick="viewSchedule('COA301')"
                        class="bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700"
                      >
                        Schedule
                      </button>
                    </div>
                  </div>

                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Operating Systems
                        </h5>
                        <p class="text-sm text-gray-600">
                          OS-401 • Mr. ABC • 4 Credits
                        </p>
                        <span
                          class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm"
                          >Enrolled</span
                        >
                      </div>
                      <div class="text-right">
                        <div class="text-sm text-gray-500">
                          Current Grade: B+
                        </div>
                        <div class="text-sm text-gray-500">Attendance: 88%</div>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Process management, memory management, and file systems
                    </p>
                    <div class="flex space-x-2">
                      <button
                        onclick="viewCourseDetails('OS401')"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                      >
                        View Details
                      </button>
                      <button
                        onclick="viewSchedule('OS401')"
                        class="bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700"
                      >
                        Schedule
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Available Courses for Enrollment -->
              <div class="bg-white rounded-lg p-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Available Courses for Enrollment
                </h4>
                <div class="space-y-4">
                  <div class="border rounded-lg p-4 border-dashed">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Computer Graphics
                        </h5>
                        <p class="text-sm text-gray-600">
                          CG-302 • Ms. pqr • 3 Credits
                        </p>
                        <span
                          class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm"
                          >Available</span
                        >
                      </div>
                      <div class="text-right">
                        <div class="text-sm text-gray-500">Seats: 25/30</div>
                        <div class="text-sm text-gray-500">
                          Prerequisites: Mathematics 3
                        </div>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      2D and 3D graphics programming, rendering algorithms, and
                      visualization
                    </p>
                    <div class="flex space-x-2">
                      <button
                        onclick="enrollCourse('CG302')"
                        class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                      >
                        Enroll Now
                      </button>
                      <button
                        onclick="viewCourseDetails('CG302')"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                      >
                        View Details
                      </button>
                    </div>
                  </div>

                  <div class="border rounded-lg p-4 border-dashed">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-lg text-gray-900">
                          Database Management System
                        </h5>
                        <p class="text-sm text-gray-600">
                          DBMS-301 • Ms. pqr • 4 Credits
                        </p>
                        <span
                          class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm"
                          >Available</span
                        >
                      </div>
                      <div class="text-right">
                        <div class="text-sm text-gray-500">Seats: 18/20</div>
                        <div class="text-sm text-gray-500">
                          Prerequisites: Data Structures
                        </div>
                      </div>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Database design, SQL, normalization, and transaction
                      management
                    </p>
                    <div class="flex space-x-2">
                      <button
                        onclick="enrollCourse('DBMS301')"
                        class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                      >
                        Enroll Now
                      </button>
                      <button
                        onclick="viewCourseDetails('DBMS301')"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                      >
                        View Details
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Student Performance Analytics -->
          <div id="studentAnalytics" class="student-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Performance Analytics
              </h3>

              <!-- Overall Performance Summary -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Overall Performance Summary
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                  <div class="text-center p-4 bg-blue-50 rounded-lg">
                    <div class="text-3xl font-bold text-blue-600">3.8</div>
                    <div class="text-sm text-gray-600">Current GPA</div>
                    <div class="text-xs text-green-600">
                      ↑ +0.2 from last semester
                    </div>
                  </div>
                  <div class="text-center p-4 bg-green-50 rounded-lg">
                    <div class="text-3xl font-bold text-green-600">92%</div>
                    <div class="text-sm text-gray-600">Avg Attendance</div>
                    <div class="text-xs text-green-600">
                      ↑ +3% from last month
                    </div>
                  </div>
                  <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <div class="text-3xl font-bold text-purple-600">85%</div>
                    <div class="text-sm text-gray-600">Assignment Score</div>
                    <div class="text-xs text-red-600">
                      ↓ -2% from last month
                    </div>
                  </div>
                  <div class="text-center p-4 bg-yellow-50 rounded-lg">
                    <div class="text-3xl font-bold text-yellow-600">18</div>
                    <div class="text-sm text-gray-600">Credits Completed</div>
                    <div class="text-xs text-green-600">↑ +3 this semester</div>
                  </div>
                </div>

                <!-- Progress Chart Placeholder -->
                <div class="bg-gray-100 rounded-lg p-6 text-center">
                  <h5 class="font-semibold mb-4 text-gray-900">
                    GPA Trend (Last 6 Months)
                  </h5>
                  <div class="flex items-end justify-center space-x-2 h-32">
                    <div class="bg-blue-500 w-8 h-16 rounded-t"></div>
                    <div class="bg-blue-500 w-8 h-20 rounded-t"></div>
                    <div class="bg-blue-500 w-8 h-18 rounded-t"></div>
                    <div class="bg-blue-500 w-8 h-24 rounded-t"></div>
                    <div class="bg-blue-500 w-8 h-28 rounded-t"></div>
                    <div class="bg-blue-600 w-8 h-32 rounded-t"></div>
                  </div>
                  <div
                    class="flex justify-center space-x-2 mt-2 text-xs text-gray-600"
                  >
                    <span>Aug</span><span>Sep</span><span>Oct</span
                    ><span>Nov</span><span>Dec</span><span>Jan</span>
                  </div>
                </div>
              </div>

              <!-- Subject-wise Performance -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Subject-wise Performance
                </h4>
                <div class="space-y-4">
                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2">
                      <h5 class="font-semibold text-gray-900">
                        Computer Organization & Architecture
                      </h5>
                      <span
                        class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm"
                        >Excellent</span
                      >
                    </div>
                    <div class="grid grid-cols-3 gap-4 text-sm">
                      <div>
                        <div class="text-gray-600">Current Grade</div>
                        <div class="font-semibold text-green-600">A (92%)</div>
                      </div>
                      <div>
                        <div class="text-gray-600">Attendance</div>
                        <div class="font-semibold">95%</div>
                      </div>
                      <div>
                        <div class="text-gray-600">Assignments</div>
                        <div class="font-semibold">8/8 Submitted</div>
                      </div>
                    </div>
                    <div class="mt-3">
                      <div class="text-xs text-gray-600 mb-1">Progress</div>
                      <div class="w-full bg-gray-200 rounded-full h-2">
                        <div
                          class="bg-green-600 h-2 rounded-full"
                          style="width: 92%"
                        ></div>
                      </div>
                    </div>
                    <div class="mt-2 text-xs text-green-600">
                      ✓ Strong performance in memory systems • ✓ Consistent
                      attendance • ⚠ Focus on processor design
                    </div>
                  </div>

                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2">
                      <h5 class="font-semibold text-gray-900">Physics</h5>
                      <span
                        class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm"
                        >Good</span
                      >
                    </div>
                    <div class="grid grid-cols-3 gap-4 text-sm">
                      <div>
                        <div class="text-gray-600">Current Grade</div>
                        <div class="font-semibold text-blue-600">B+ (78%)</div>
                      </div>
                      <div>
                        <div class="text-gray-600">Attendance</div>
                        <div class="font-semibold">88%</div>
                      </div>
                      <div>
                        <div class="text-gray-600">Assignments</div>
                        <div class="font-semibold">6/8 Submitted</div>
                      </div>
                    </div>
                    <div class="mt-3">
                      <div class="text-xs text-gray-600 mb-1">Progress</div>
                      <div class="w-full bg-gray-200 rounded-full h-2">
                        <div
                          class="bg-yellow-500 h-2 rounded-full"
                          style="width: 78%"
                        ></div>
                      </div>
                    </div>
                    <div class="mt-2 text-xs text-yellow-600">
                      ⚠ Improve lab attendance • ✓ Good theoretical
                      understanding • ⚠ Submit pending assignments
                    </div>
                  </div>

                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2">
                      <h5 class="font-semibold text-gray-900">Chemistry</h5>
                      <span
                        class="px-2 py-1 bg-red-100 text-red-800 rounded text-sm"
                        >Needs Improvement</span
                      >
                    </div>
                    <div class="grid grid-cols-3 gap-4 text-sm">
                      <div>
                        <div class="text-gray-600">Current Grade</div>
                        <div class="font-semibold text-red-600">C+ (65%)</div>
                      </div>
                      <div>
                        <div class="text-gray-600">Attendance</div>
                        <div class="font-semibold">82%</div>
                      </div>
                      <div>
                        <div class="text-gray-600">Assignments</div>
                        <div class="font-semibold">5/8 Submitted</div>
                      </div>
                    </div>
                    <div class="mt-3">
                      <div class="text-xs text-gray-600 mb-1">Progress</div>
                      <div class="w-full bg-gray-200 rounded-full h-2">
                        <div
                          class="bg-red-500 h-2 rounded-full"
                          style="width: 65%"
                        ></div>
                      </div>
                    </div>
                    <div class="mt-2 text-xs text-red-600">
                      ⚠ Attend more classes • ⚠ Complete pending assignments • ⚠
                      Seek help for organic chemistry
                    </div>
                  </div>
                </div>
              </div>

              <!-- Improvement Recommendations -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Personalized Recommendations
                </h4>
                <div class="space-y-3">
                  <div
                    class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg"
                  >
                    <div
                      class="w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm"
                    >
                      1
                    </div>
                    <div>
                      <div class="font-semibold text-gray-900">
                        Focus on Chemistry
                      </div>
                      <div class="text-sm text-gray-600">
                        Your chemistry grade needs attention. Consider attending
                        extra help sessions and completing all assignments.
                      </div>
                    </div>
                  </div>
                  <div
                    class="flex items-start space-x-3 p-3 bg-green-50 rounded-lg"
                  >
                    <div
                      class="w-6 h-6 bg-green-600 rounded-full flex items-center justify-center text-white text-sm"
                    >
                      2
                    </div>
                    <div>
                      <div class="font-semibold text-gray-900">
                        Maintain Math Excellence
                      </div>
                      <div class="text-sm text-gray-600">
                        Great work in mathematics! Keep up the consistent
                        performance and help peers who are struggling.
                      </div>
                    </div>
                  </div>
                  <div
                    class="flex items-start space-x-3 p-3 bg-yellow-50 rounded-lg"
                  >
                    <div
                      class="w-6 h-6 bg-yellow-600 rounded-full flex items-center justify-center text-white text-sm"
                    >
                      3
                    </div>
                    <div>
                      <div class="font-semibold text-gray-900">
                        Improve Overall Attendance
                      </div>
                      <div class="text-sm text-gray-600">
                        Aim for 95%+ attendance across all subjects. Regular
                        attendance strongly correlates with better grades.
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Study Goals -->
              <div class="bg-white rounded-lg p-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Study Goals & Progress
                </h4>
                <div class="space-y-4">
                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2">
                      <h5 class="font-semibold text-gray-900">
                        Achieve 4.0 GPA this semester
                      </h5>
                      <span class="text-sm text-gray-600">75% Complete</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                      <div
                        class="bg-blue-600 h-2 rounded-full"
                        style="width: 75%"
                      ></div>
                    </div>
                    <div class="text-sm text-gray-600">
                      Current: 3.8 GPA • Target: 4.0 GPA
                    </div>
                  </div>

                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2">
                      <h5 class="font-semibold text-gray-900">
                        Complete all assignments on time
                      </h5>
                      <span class="text-sm text-gray-600">82% Complete</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                      <div
                        class="bg-green-600 h-2 rounded-full"
                        style="width: 82%"
                      ></div>
                    </div>
                    <div class="text-sm text-gray-600">
                      Completed: 19/24 assignments • 5 pending
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Student Resources -->
          <div id="studentResources" class="student-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Learning Resources
              </h3>

              <!-- Resource Categories -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Browse by Category
                </h4>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                  <button
                    onclick="filterResources('lecture-notes')"
                    class="p-4 border rounded-lg hover:bg-blue-50 text-center"
                  >
                    <div class="text-2xl mb-2"></div>
                    <div class="font-semibold text-gray-900">Lecture Notes</div>
                    <div class="text-sm text-gray-600">15 files</div>
                  </button>
                  <button
                    onclick="filterResources('presentations')"
                    class="p-4 border rounded-lg hover:bg-green-50 text-center"
                  >
                    <div class="text-2xl mb-2"></div>
                    <div class="font-semibold text-gray-900">Presentations</div>
                    <div class="text-sm text-gray-600">8 files</div>
                  </button>
                  <button
                    onclick="filterResources('videos')"
                    class="p-4 border rounded-lg hover:bg-purple-50 text-center"
                  >
                    <div class="text-2xl mb-2"></div>
                    <div class="font-semibold text-gray-900">
                      Video Tutorials
                    </div>
                    <div class="text-sm text-gray-600">12 videos</div>
                  </button>
                  <button
                    onclick="filterResources('references')"
                    class="p-4 border rounded-lg hover:bg-yellow-50 text-center"
                  >
                    <div class="text-2xl mb-2"></div>
                    <div class="font-semibold text-gray-900">References</div>
                    <div class="text-sm text-gray-600">6 files</div>
                  </button>
                </div>
              </div>

              <!-- Search and Filter -->
              <div class="bg-white rounded-lg p-4 mb-6 shadow">
                <div class="flex flex-wrap gap-4 items-center">
                  <div class="flex-1 min-w-64">
                    <input
                      type="text"
                      id="resourceSearch"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      placeholder="Search resources..."
                    />
                  </div>
                  <div>
                    <select
                      id="subjectFilter"
                      class="px-3 py-2 border rounded-lg bg-white text-gray-900"
                    >
                      <option value="all">All Subjects</option>
                      <option value="mathematics">Mathematics</option>
                      <option value="physics">Physics</option>
                      <option value="chemistry">Chemistry</option>
                      <option value="computer-science">Computer Science</option>
                    </select>
                  </div>
                  <button
                    onclick="searchResources()"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                  >
                    Search
                  </button>
                </div>
              </div>

              <!-- Resources List -->
              <div class="space-y-4" id="resourcesList">
                <div class="bg-white rounded-lg p-4 shadow">
                  <div class="flex items-start space-x-4">
                    <div
                      class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"
                    >
                      <span class="text-red-600 text-xl"></span>
                    </div>
                    <div class="flex-1">
                      <div class="flex justify-between items-start mb-2">
                        <div>
                          <h5 class="font-semibold text-lg text-gray-900">
                            Calculus Chapter 5 - Derivatives
                          </h5>
                          <p class="text-sm text-gray-600">
                            Mathematics • Lecture Notes • Dr. Smith
                          </p>
                          <span
                            class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm"
                            >Recently Added</span
                          >
                        </div>
                        <div class="text-right text-sm text-gray-500">
                          <div>2.3 MB • PDF</div>
                          <div>Jan 15, 2024</div>
                        </div>
                      </div>
                      <p class="text-sm text-gray-700 mb-3">
                        Comprehensive notes on derivatives including examples
                        and practice problems
                      </p>
                      <div class="flex space-x-2">
                        <button
                          onclick="downloadResource('R001')"
                          class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                        >
                          Download
                        </button>
                        <button
                          onclick="viewResource('R001')"
                          class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                        >
                          Preview
                        </button>
                        <button
                          onclick="bookmarkResource('R001')"
                          class="bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700"
                        >
                          Bookmark
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="bg-white rounded-lg p-4 shadow">
                  <div class="flex items-start space-x-4">
                    <div
                      class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"
                    >
                      <span class="text-green-600 text-xl"></span>
                    </div>
                    <div class="flex-1">
                      <div class="flex justify-between items-start mb-2">
                        <div>
                          <h5 class="font-semibold text-lg text-gray-900">
                            Physics Lab - Pendulum Experiment
                          </h5>
                          <p class="text-sm text-gray-600">
                            Physics • Video Tutorial • Prof. Johnson
                          </p>
                          <span
                            class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm"
                            >Popular</span
                          >
                        </div>
                        <div class="text-right text-sm text-gray-500">
                          <div>45.2 MB • MP4</div>
                          <div>15:30 duration</div>
                        </div>
                      </div>
                      <p class="text-sm text-gray-700 mb-3">
                        Step-by-step video demonstration of pendulum motion
                        analysis
                      </p>
                      <div class="flex space-x-2">
                        <button
                          onclick="playVideo('R002')"
                          class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                        >
                          Play
                        </button>
                        <button
                          onclick="downloadResource('R002')"
                          class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                        >
                          Download
                        </button>
                        <button
                          onclick="bookmarkResource('R002')"
                          class="bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700"
                        >
                          Bookmark
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="bg-white rounded-lg p-4 shadow">
                  <div class="flex items-start space-x-4">
                    <div
                      class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"
                    >
                      <span class="text-purple-600 text-xl"></span>
                    </div>
                    <div class="flex-1">
                      <div class="flex justify-between items-start mb-2">
                        <div>
                          <h5 class="font-semibold text-lg text-gray-900">
                            Organic Chemistry Reactions
                          </h5>
                          <p class="text-sm text-gray-600">
                            Chemistry • Presentation • Dr. Brown
                          </p>
                          <span
                            class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm"
                            >Bookmarked</span
                          >
                        </div>
                        <div class="text-right text-sm text-gray-500">
                          <div>8.7 MB • PPT</div>
                          <div>Jan 10, 2024</div>
                        </div>
                      </div>
                      <p class="text-sm text-gray-700 mb-3">
                        Interactive presentation covering major organic
                        chemistry reactions
                      </p>
                      <div class="flex space-x-2">
                        <button
                          onclick="downloadResource('R003')"
                          class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                        >
                          Download
                        </button>
                        <button
                          onclick="viewResource('R003')"
                          class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
                        >
                          Preview
                        </button>
                        <button
                          onclick="removeBookmark('R003')"
                          class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
                        >
                          Remove Bookmark
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- My Bookmarks -->
              <div class="mt-6 bg-white rounded-lg p-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  My Bookmarked Resources
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="border rounded-lg p-3">
                    <div class="flex items-center space-x-3">
                      <span class="text-purple-600"></span>
                      <div>
                        <div class="font-semibold text-sm text-gray-900">
                          Organic Chemistry Reactions
                        </div>
                        <div class="text-xs text-gray-600">
                          Chemistry • Presentation
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="border rounded-lg p-3">
                    <div class="flex items-center space-x-3">
                      <span class="text-red-600"></span>
                      <div>
                        <div class="font-semibold text-sm text-gray-900">
                          Linear Algebra Notes
                        </div>
                        <div class="text-xs text-gray-600">
                          Mathematics • Lecture Notes
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Student Assignments -->
          <div id="studentAssignments" class="student-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                My Assignments
              </h3>
              <div class="space-y-4">
                <div class="bg-white rounded-lg p-4 shadow">
                  <div class="flex justify-between items-start">
                    <div>
                      <h5 class="font-semibold text-lg text-gray-900">
                        Calculus Problem Set 1
                      </h5>
                      <p class="text-gray-600">
                        Mathematics • Due: Jan 20, 2024
                      </p>
                      <p class="text-sm text-gray-500 mt-1">
                        Solve differential equations from chapter 5
                      </p>
                    </div>
                    <div class="text-right">
                      <span
                        class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm"
                        >Pending</span
                      >
                      <div class="text-sm text-gray-500 mt-1">5 days left</div>
                    </div>
                  </div>
                  <div class="mt-4 flex space-x-2">
                    <button
                      onclick="submitAssignment('A001')"
                      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                    >
                      Submit Assignment
                    </button>
                    <button
                      onclick="viewAssignment('A001')"
                      class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700"
                    >
                      View Details
                    </button>
                  </div>
                </div>

                <div class="bg-white rounded-lg p-4 shadow">
                  <div class="flex justify-between items-start">
                    <div>
                      <h5 class="font-semibold text-lg text-gray-900">
                        Physics Lab Report
                      </h5>
                      <p class="text-gray-600">Physics • Due: Jan 18, 2024</p>
                      <p class="text-sm text-gray-500 mt-1">
                        Pendulum motion analysis
                      </p>
                    </div>
                    <div class="text-right">
                      <span
                        class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm"
                        >Submitted</span
                      >
                      <div class="text-sm text-gray-500 mt-1">
                        Grade: 88/100
                      </div>
                    </div>
                  </div>
                  <div class="mt-4">
                    <button
                      onclick="viewFeedback('A002')"
                      class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
                    >
                      View Feedback
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Student Library -->
          <div id="studentLibrary" class="student-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Library Management
              </h3>

              <!-- Library Overview -->
              <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-blue-600">3</div>
                  <div class="text-sm text-gray-600">Books Issued</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-green-600">12</div>
                  <div class="text-sm text-gray-600">Books Returned</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-red-600">₹50</div>
                  <div class="text-sm text-gray-600">Pending Fees</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-yellow-600">Jan 25</div>
                  <div class="text-sm text-gray-600">Next Due Date</div>
                </div>
              </div>

              <!-- Search Books -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Search & Request Books
                </h4>
                <div class="flex gap-4 items-center mb-4">
                  <input
                    type="text"
                    id="bookSearch"
                    class="flex-1 px-3 py-2 border rounded-lg bg-white text-gray-900"
                    placeholder="Search by title, author, or ISBN..."
                  />
                  <button
                    onclick="searchBooks()"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                  >
                    Search
                  </button>
                </div>

                <!-- Available Books -->
                <div class="space-y-3">
                  <div class="border rounded-lg p-4">
                    <div class="flex justify-between items-start">
                      <div>
                        <h5 class="font-semibold text-gray-900">
                          Introduction to Algorithms
                        </h5>
                        <p class="text-sm text-gray-600">by Thomas H. Cormen</p>
                        <span
                          class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs"
                          >Available</span
                        >
                      </div>
                      <button
                        onclick="requestBook('ALG001')"
                        class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                      >
                        Request
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Currently Issued Books -->
              <div class="bg-white rounded-lg p-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Currently Issued Books
                </h4>
                <div class="space-y-4">
                  <div
                    class="border-l-4 border-red-500 bg-red-50 rounded-lg p-4"
                  >
                    <div class="flex justify-between items-start">
                      <div>
                        <h5 class="font-semibold text-gray-900">
                          Operating System Concepts
                        </h5>
                        <p class="text-sm text-gray-600">
                          by Abraham Silberschatz
                        </p>
                        <p class="text-xs text-gray-500">
                          Issued: Dec 15, 2023
                        </p>
                        <span
                          class="px-2 py-1 bg-red-100 text-red-800 rounded text-xs"
                        >
                          Overdue</span
                        >
                        <span class="text-xs text-red-600 ml-2"
                          >Due: Jan 15, 2024 (5 days overdue)</span
                        >
                      </div>
                      <div class="flex space-x-2">
                        <button
                          onclick="renewBook('OS001')"
                          class="bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700"
                        >
                          Renew
                        </button>
                        <button
                          onclick="returnBook('OS001')"
                          class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                        >
                          Return
                        </button>
                      </div>
                    </div>
                    <div class="mt-2 text-xs text-red-600">
                      Late fee: ₹50 (₹10 per day)
                    </div>
                  </div>

                  <div
                    class="border-l-4 border-green-500 bg-green-50 rounded-lg p-4"
                  >
                    <div class="flex justify-between items-start">
                      <div>
                        <h5 class="font-semibold text-gray-900">
                          Database System Concepts
                        </h5>
                        <p class="text-sm text-gray-600">by Henry F. Korth</p>
                        <p class="text-xs text-gray-500">
                          Issued: Jan 10, 2024
                        </p>
                        <span
                          class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs"
                        >
                          Active</span
                        >
                        <span class="text-xs text-green-600 ml-2"
                          >Due: Feb 10, 2024</span
                        >
                      </div>
                      <div class="flex space-x-2">
                        <button
                          onclick="renewBook('DB001')"
                          class="bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700"
                        >
                          Renew
                        </button>
                        <button
                          onclick="returnBook('DB001')"
                          class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                        >
                          Return
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Student Leave Applications -->
          <div id="studentLeave" class="student-content hidden">
            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-xl font-semibold mb-4 text-gray-900">
                Leave Applications
              </h3>

              <!-- Apply for Leave Form -->
              <div class="bg-white rounded-lg p-6 mb-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  Apply for Leave
                </h4>
                <form
                  id="leaveApplicationForm"
                  onsubmit="submitLeaveApplication(event)"
                >
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Leave Type</label
                      >
                      <select
                        id="leaveType"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      >
                        <option value="">Select Leave Type</option>
                        <option value="sick">Sick Leave</option>
                        <option value="personal">Personal Leave</option>
                        <option value="emergency">Emergency Leave</option>
                        <option value="family">Family Function</option>
                        <option value="medical">Medical Appointment</option>
                        <option value="other">Other</option>
                      </select>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >Priority</label
                      >
                      <select
                        id="leavePriority"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      >
                        <option value="normal">Normal</option>
                        <option value="urgent">Urgent</option>
                        <option value="emergency">Emergency</option>
                      </select>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >From Date</label
                      >
                      <input
                        type="date"
                        id="leaveFromDate"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-2 text-gray-900"
                        >To Date</label
                      >
                      <input
                        type="date"
                        id="leaveToDate"
                        class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                        required
                      />
                    </div>
                  </div>
                  <div class="mb-4">
                    <label class="block text-sm font-medium mb-2 text-gray-900"
                      >Reason for Leave</label
                    >
                    <textarea
                      id="leaveReason"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      rows="4"
                      placeholder="Please provide detailed reason for your leave..."
                      required
                    ></textarea>
                  </div>
                  <div class="mb-4">
                    <label class="block text-sm font-medium mb-2 text-gray-900"
                      >Contact During Leave</label
                    >
                    <input
                      type="tel"
                      id="leaveContact"
                      class="w-full px-3 py-2 border rounded-lg bg-white text-gray-900"
                      placeholder="Emergency contact number"
                    />
                  </div>
                  <div class="flex space-x-3">
                    <button
                      type="submit"
                      class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                    >
                      Submit Application
                    </button>
                    <button
                      type="button"
                      onclick="clearLeaveForm()"
                      class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors"
                    >
                      Clear Form
                    </button>
                  </div>
                </form>
              </div>

              <!-- Leave Applications History -->
              <div class="bg-white rounded-lg p-6 shadow">
                <h4 class="font-semibold mb-4 text-gray-900">
                  My Leave Applications
                </h4>
                <div class="space-y-4" id="leaveApplicationsList">
                  <!-- Pending Application -->
                  <div class="border rounded-lg p-4 bg-yellow-50">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-gray-900">Sick Leave</h5>
                        <p class="text-sm text-gray-600">
                          Jan 18, 2024 - Jan 20, 2024 (3 days)
                        </p>
                      </div>
                      <span
                        class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium"
                      >
                        ⏳ Pending
                      </span>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Reason: Fever and flu symptoms, doctor advised rest
                    </p>
                    <div class="text-xs text-gray-500">
                      Applied: Jan 17, 2024 • Priority: Normal • Contact:
                      +91-9876543210
                    </div>
                    <div class="mt-3 flex space-x-2">
                      <button
                        onclick="editLeaveApplication('L001')"
                        class="text-blue-600 hover:text-blue-800 text-sm"
                      >
                        Edit
                      </button>
                      <button
                        onclick="cancelLeaveApplication('L001')"
                        class="text-red-600 hover:text-red-800 text-sm"
                      >
                        Cancel
                      </button>
                    </div>
                  </div>

                  <!-- Approved Application -->
                  <div class="border rounded-lg p-4 bg-green-50">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-gray-900">
                          Family Function
                        </h5>
                        <p class="text-sm text-gray-600">
                          Jan 10, 2024 - Jan 12, 2024 (3 days)
                        </p>
                      </div>
                      <span
                        class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium"
                      >
                        Approved
                      </span>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Reason: Sister's wedding ceremony
                    </p>
                    <div class="text-xs text-gray-500">
                      Applied: Jan 5, 2024 • Approved by: Dr. Smith • Priority:
                      Normal
                    </div>
                  </div>

                  <!-- Rejected Application -->
                  <div class="border rounded-lg p-4 bg-red-50">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <h5 class="font-semibold text-gray-900">
                          Personal Leave
                        </h5>
                        <p class="text-sm text-gray-600">
                          Dec 28, 2023 - Dec 30, 2023 (3 days)
                        </p>
                      </div>
                      <span
                        class="px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium"
                      >
                        Rejected
                      </span>
                    </div>
                    <p class="text-sm text-gray-700 mb-2">
                      Reason: Personal work
                    </p>
                    <div class="text-xs text-gray-500 mb-2">
                      Applied: Dec 25, 2023 • Rejected by: Prof. Johnson •
                      Priority: Normal
                    </div>
                    <div class="text-xs bg-red-100 text-red-800 p-2 rounded">
                      <strong>Rejection Reason:</strong> Insufficient notice
                      period. Please apply at least 7 days in advance for
                      personal leave.
                    </div>
                  </div>
                </div>
              </div>

              <!-- Leave Statistics -->
              <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-blue-600">12</div>
                  <div class="text-sm text-gray-600">Total Applications</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-green-600">9</div>
                  <div class="text-sm text-gray-600">Approved</div>
                </div>
                <div class="bg-white rounded-lg p-4 shadow text-center">
                  <div class="text-2xl font-bold text-yellow-600">25</div>
                  <div class="text-sm text-gray-600">Leave Days Used</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentUserType = null;

      // Show login modal
        function showLoginModal(userType) {
            currentUserType = userType;
            const modal = document.getElementById('loginModal');
            const title = document.getElementById('loginTitle');
            const idLabel = document.getElementById('loginIdLabel');
            
            if (userType === 'teacher') {
                title.textContent = 'Faculty Login';
                idLabel.textContent = 'Faculty ID';
            } else {
                title.textContent = 'Student Login';
                idLabel.textContent = 'Enrollment Number';
            }
            
            modal.classList.remove('hidden');
        }

        // Show registration form
        function showRegistration() {
            document.getElementById('registrationModal').classList.remove('hidden');
            document.getElementById('loginModal').classList.add('hidden');
        }

        // Show forgot password form
        function showForgotPassword() {
            document.getElementById('forgotPasswordModal').classList.remove('hidden');
            document.getElementById('loginModal').classList.add('hidden');
        }

        // Close registration modal
        function closeRegistrationModal() {
            document.getElementById('registrationModal').classList.add('hidden');
            document.getElementById('registrationForm').reset();
            // Hide conditional fields
            document.getElementById('studentFields').classList.add('hidden');
            document.getElementById('facultyFields').classList.add('hidden');
        }

        // Close forgot password modal
        function closeForgotPasswordModal() {
            document.getElementById('forgotPasswordModal').classList.add('hidden');
            document.getElementById('forgotPasswordForm').reset();
            // Reset to step 1
            document.getElementById('forgotPasswordStep1').classList.remove('hidden');
            document.getElementById('forgotPasswordStep2').classList.add('hidden');
        }

        // Toggle registration fields based on user type
        function toggleRegistrationFields() {
            const userType = document.getElementById('regType').value;
            const studentFields = document.getElementById('studentFields');
            const facultyFields = document.getElementById('facultyFields');
            
            if (userType === 'student') {
                studentFields.classList.remove('hidden');
                facultyFields.classList.add('hidden');
                // Make student fields required
                document.getElementById('regCourse').required = true;
                document.getElementById('regYear').required = true;
                // Remove faculty field requirements
                document.getElementById('regDepartment').required = false;
                document.getElementById('regDesignation').required = false;
            } else if (userType === 'faculty') {
                facultyFields.classList.remove('hidden');
                studentFields.classList.add('hidden');
                // Make faculty fields required
                document.getElementById('regDepartment').required = true;
                document.getElementById('regDesignation').required = true;
                // Remove student field requirements
                document.getElementById('regCourse').required = false;
                document.getElementById('regYear').required = false;
            } else {
                studentFields.classList.add('hidden');
                facultyFields.classList.add('hidden');
                // Remove all conditional requirements
                document.getElementById('regCourse').required = false;
                document.getElementById('regYear').required = false;
                document.getElementById('regDepartment').required = false;
                document.getElementById('regDesignation').required = false;
            }
        }

        // Handle registration form submission
        function handleRegistration(event) {
            event.preventDefault();
            
            const firstName = document.getElementById('regFirstName').value;
            const lastName = document.getElementById('regLastName').value;
            const email = document.getElementById('regEmail').value;
            const phone = document.getElementById('regPhone').value;
            const userType = document.getElementById('regType').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            const termsAccepted = document.getElementById('regTerms').checked;
            
            // Validate passwords match
            if (password !== confirmPassword) {
                alert('❌ Password Mismatch!\n\nThe passwords you entered do not match. Please make sure both password fields contain the same password.');
                return;
            }
            
            // Validate password strength
            if (password.length < 8) {
                alert('❌ Weak Password!\n\nPassword must be at least 8 characters long.\n\n💡 Tips for a strong password:\n• Use at least 8 characters\n• Include uppercase and lowercase letters\n• Add numbers and special characters\n• Avoid common words or personal information');
                return;
            }
            
            // Validate terms acceptance
            if (!termsAccepted) {
                alert('❌ Terms and Conditions\n\nPlease read and accept the Terms and Conditions to proceed with registration.');
                return;
            }
            
            // Get additional fields based on user type
            let additionalInfo = '';
            if (userType === 'student') {
                const course = document.getElementById('regCourse').value;
                const year = document.getElementById('regYear').value;
                additionalInfo = `\n📚 Course: ${course}\n📅 Year: ${year}`;
            } else if (userType === 'faculty') {
                const department = document.getElementById('regDepartment').value;
                const designation = document.getElementById('regDesignation').value;
                additionalInfo = `\n🏢 Department: ${department}\n👨‍🏫 Designation: ${designation}`;
            }
            
            // Show loading state
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '⏳ Processing...';
            submitBtn.disabled = true;
            
            // Simulate processing time
            setTimeout(() => {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                
                // Show success message
                alert(`✅ Registration Submitted Successfully!\n\n👤 Name: ${firstName} ${lastName}\n📧 Email: ${email}\n📱 Phone: ${phone}\n🎭 Type: ${userType.charAt(0).toUpperCase() + userType.slice(1)}${additionalInfo}\n\n📋 Next Steps:\n• Your application will be reviewed within 24-48 hours\n• You'll receive a confirmation email with further instructions\n• Login credentials will be provided after approval\n• Check your email regularly for updates\n\n📞 For urgent queries: +91-194-2424000`);
                
                closeRegistrationModal();
            }, 2000);
        }

        // Handle forgot password form submission
        function handleForgotPassword(event) {
            event.preventDefault();
            
            const userType = document.getElementById('forgotUserType').value;
            const identifier = document.getElementById('forgotId').value;
            
            // Show loading state
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '⏳ Sending...';
            submitBtn.disabled = true;
            
            // Simulate processing time
            setTimeout(() => {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                
                // Show step 2 (success message)
                document.getElementById('forgotPasswordStep1').classList.add('hidden');
                document.getElementById('forgotPasswordStep2').classList.remove('hidden');
                
                // In a real application, this would send an actual email
                console.log(`Password reset requested for ${userType}: ${identifier}`);
            }, 2000);
        }

        // Close login modal
        function closeLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('loginForm').reset();
        }

        // Handle login
        async function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }

            // Show loading state
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Logging in...';
            submitBtn.disabled = true;

            try {
                // Make API call to login endpoint
                const response = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        email: email,
                        password: password
                    })
                });

                const data = await response.json();

                if (data.success) {
                    // Store user data and token
                    localStorage.setItem('authToken', data.data.token);
                    localStorage.setItem('currentUser', JSON.stringify(data.data.user));
                    
                    // Close login modal
                    closeLoginModal();
                    
                    // Show appropriate dashboard based on user role
                    showDashboard(data.data.user.role, data.data.user);
                    
                    // Show success message
                    alert(`Welcome back, ${data.data.user.name}!`);
                } else {
                    alert(data.message || 'Login failed. Please check your credentials.');
                }
            } catch (error) {
                console.error('Login error:', error);
                alert('Login failed. Please check your connection and try again.');
            } finally {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        }

        // Show dashboard
        function showDashboard(userRole, userData) {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            
            // Update UI based on user role
            if (userRole === 'faculty' || userRole === 'teacher') {
                document.getElementById('teacherSection').classList.remove('hidden');
                document.getElementById('studentSection').classList.add('hidden');
            } else if (userRole === 'student') {
                document.getElementById('studentSection').classList.remove('hidden');
                document.getElementById('teacherSection').classList.add('hidden');
            } else if (userRole === 'admin') {
                // For now, show teacher section for admin (can be customized later)
                document.getElementById('teacherSection').classList.remove('hidden');
                document.getElementById('studentSection').classList.add('hidden');
            }
            
            // Update user info in the UI if needed
            if (userData) {
                console.log('Logged in user:', userData);
                // You can update user name, profile info, etc. here
            }
        }

        // Logout
        function logout() {
            // Clear stored data
            localStorage.removeItem('authToken');
            localStorage.removeItem('currentUser');
            
            // Reset UI
            document.getElementById('welcomeSection').classList.remove('hidden');
            document.getElementById('teacherSection').classList.add('hidden');
            document.getElementById('studentSection').classList.add('hidden');
            document.getElementById('logoutBtn').classList.add('hidden');
            currentUserType = null;
            
            alert('Logged out successfully');
        }

        // Show  teacher tabs
      function showTeacherTab(tabName) {
        // Hide all teacher content
        const teacherContents = document.querySelectorAll(".teacher-content");
        teacherContents.forEach((content) => content.classList.add("hidden"));

        // Remove active class from all teacher tabs
        const teacherTabs = document.querySelectorAll(
          '[id^="teacher"][id$="Tab"]'
        );
        teacherTabs.forEach((tab) => {
          tab.classList.remove("tab-active");
          tab.classList.add("bg-gray-200", "text-gray-700");
        });

        // Show selected content and activate tab
        document
          .getElementById(
            "teacher" + tabName.charAt(0).toUpperCase() + tabName.slice(1)
          )
          .classList.remove("hidden");
        const activeTab = document.getElementById(
          "teacher" + tabName.charAt(0).toUpperCase() + tabName.slice(1) + "Tab"
        );
        activeTab.classList.add("tab-active");
        activeTab.classList.remove("bg-gray-200", "text-gray-700");
      }

      // Show student tabs
      function showStudentTab(tabName) {
        // Hide all student content
        const studentContents = document.querySelectorAll(".student-content");
        studentContents.forEach((content) => content.classList.add("hidden"));

        // Remove active class from all student tabs
        const studentTabs = document.querySelectorAll(
          '[id^="student"][id$="Tab"]'
        );
        studentTabs.forEach((tab) => {
          tab.classList.remove("tab-active");
          tab.classList.add("bg-gray-200", "text-gray-700");
        });

        // Show selected content and activate tab
        document
          .getElementById(
            "student" + tabName.charAt(0).toUpperCase() + tabName.slice(1)
          )
          .classList.remove("hidden");
        const activeTab = document.getElementById(
          "student" + tabName.charAt(0).toUpperCase() + tabName.slice(1) + "Tab"
        );
        activeTab.classList.add("tab-active");
        activeTab.classList.remove("bg-gray-200", "text-gray-700");
      }

      // Teacher functions
      function createNotice(event) {
        event.preventDefault();
        const title = document.getElementById("noticeTitle").value;
        const content = document.getElementById("noticeContent").value;
        const priority = document.getElementById("noticePriority").value;

        alert(`Notice "${title}" created successfully!`);
        document.getElementById("noticeForm").reset();
      }

      function deleteNotice(id) {
        if (confirm("Are you sure you want to delete this notice?")) {
          alert("Notice deleted successfully!");
        }
      }

      function updateMarks(studentId) {
        alert(`Marks updated for student ${studentId}!`);
      }

      function updateAttendance(studentId) {
        alert(`Attendance updated for student ${studentId}!`);
      }

      // Teacher functions
      function createAssignment() {
        const title = document.getElementById("assignmentTitle").value;
        if (title) {
          alert(`Assignment "${title}" created successfully!`);
          document.getElementById("assignmentTitle").value = "";
          document.getElementById("assignmentDescription").value = "";
        }
      }

      function editAssignment(id) {
        alert(`Editing assignment ${id}`);
      }

      function deleteAssignment(id) {
        if (confirm("Are you sure you want to delete this assignment?")) {
          alert(`Assignment ${id} deleted successfully!`);
        }
      }

      function uploadResource(event) {
        event.preventDefault();
        const title = document.getElementById("resourceTitle").value;
        alert(`Resource "${title}" uploaded successfully!`);
        document.getElementById("resourceForm").reset();
      }

      function editResource(id) {
        alert(`Editing resource ${id}`);
      }

      function deleteResource(id) {
        if (confirm("Are you sure you want to delete this resource?")) {
          alert(`Resource ${id} deleted successfully!`);
        }
      }

      function approveLeave(id) {
        if (
          confirm("Are you sure you want to approve this leave application?")
        ) {
          alert(`Leave application ${id} approved successfully!`);
        }
      }

      function rejectLeave(id) {
        if (
          confirm("Are you sure you want to reject this leave application?")
        ) {
          alert(`Leave application ${id} rejected!`);
        }
      }

      // Student functions
      function searchBooks() {
        const searchTerm = document.getElementById("bookSearch").value;
        alert(`Searching for books: "${searchTerm}"`);
      }

      function requestBook(bookId) {
        alert(`Book request submitted for ${bookId}!`);
      }

      function renewBook(bookId) {
        alert(`Renewal request submitted for ${bookId}!`);
      }

      function returnBook(bookId) {
        if (confirm("Are you sure you want to return this book?")) {
          alert(`Book ${bookId} returned successfully!`);
        }
      }

      function filterResources(type) {
        alert(`Filtering resources by: ${type}`);
      }

      function submitAssignment(id) {
        alert(`Assignment ${id} submitted successfully!`);
      }

      function viewAssignment(id) {
        alert(`Viewing assignment details for ${id}`);
      }

      function submitLeaveApplication(event) {
        event.preventDefault();
        const leaveType = document.getElementById("leaveType").value;
        const fromDate = document.getElementById("leaveFromDate").value;
        const toDate = document.getElementById("leaveToDate").value;
        alert(
          `Leave application submitted: ${leaveType} from ${fromDate} to ${toDate}`
        );
        document.getElementById("leaveForm").reset();
      }
      // Student Notice Functions
      function filterNotices() {
        const priority = document.getElementById("noticeFilter").value;
        const show = document.getElementById("noticeShow").value;

        showSuccessMessage(
          `Filtering notices by priority: ${priority}, show: ${show}`
        );
      }

      function markAsRead(noticeId) {
        showSuccessMessage(`Notice ${noticeId} marked as read`);
      }

      function viewFullNotice(noticeId) {
        showSuccessMessage(`Viewing full notice ${noticeId}`);
      }

      function downloadNotice(noticeId) {
        showSuccessMessage(`Downloading notice ${noticeId} as PDF`);
      }

      function goToCourseRegistration() {
        showStudentTab("courses");
        showSuccessMessage("Redirected to course registration");
      }

      // Show subject marks based on selection
      function showSubjectMarks() {
        const selectedSubject = document.getElementById("subjectSelect").value;

        // Hide all subject marks
        const allSubjectMarks = document.querySelectorAll(".subject-marks");
        allSubjectMarks.forEach((marks) => marks.classList.add("hidden"));

        // Show selected subject marks
        if (selectedSubject === "mathematics") {
          document
            .getElementById("mathematicsMarks")
            .classList.remove("hidden");
        } else if (selectedSubject === "physics") {
          document.getElementById("physicsMarks").classList.remove("hidden");
        } else {
          // For other subjects, show a placeholder
          alert(`Marks for ${selectedSubject} will be available soon!`);
          document
            .getElementById("mathematicsMarks")
            .classList.remove("hidden");
        }
      }

      // Excel file handling functions
      function handleExcelUpload(event) {
        const file = event.target.files[0];
        if (!file) return;

        console.log(
          "File selected:",
          file.name,
          "Size:",
          file.size,
          "Type:",
          file.type
        );

        // Validate file type
        const fileName = file.name.toLowerCase();
        const validExtensions = [".xlsx", ".xls", ".csv"];
        const isValidFile = validExtensions.some((ext) =>
          fileName.endsWith(ext)
        );

        if (!isValidFile) {
          alert(
            " Invalid file type!\n\nPlease upload a valid Excel file:\n• .xlsx (Excel 2007+)\n• .xls (Excel 97-2003)\n• .csv (Comma Separated Values)"
          );
          document.getElementById("excelFile").value = "";
          return;
        }

        // Validate file size (10MB limit)
        if (file.size > 10 * 1024 * 1024) {
          alert(
            " File too large!\n\nFile size should be less than 10MB.\nCurrent file size: " +
              (file.size / (1024 * 1024)).toFixed(2) +
              "MB"
          );
          document.getElementById("excelFile").value = "";
          return;
        }

        // Check if we're on the correct tab
        const marksTab = document.getElementById("teacherMarks");
        if (marksTab && marksTab.classList.contains("hidden")) {
          alert(
            ' Please go to the "Manage Marks" tab first before uploading files.'
          );
          document.getElementById("excelFile").value = "";
          return;
        }

        // Show loading state
        const fileStatus = document.getElementById("fileStatus");
        const fileStatusText = document.getElementById("fileStatusText");

        if (fileStatus && fileStatusText) {
          fileStatusText.textContent =
            "⏳ Processing Excel file... Please wait.";
          fileStatus.classList.remove("hidden");

          // Reset to success styling
          const statusContainer = fileStatus.querySelector("div");
          if (statusContainer) {
            statusContainer.className =
              "bg-green-50 border border-green-200 rounded-lg p-4";
          }
          const statusIcon = fileStatus.querySelector("svg");
          if (statusIcon) {
            statusIcon.className = "h-5 w-5 text-green-400";
          }
          const statusTextElement = fileStatus.querySelector("p");
          if (statusTextElement) {
            statusTextElement.className = "text-sm font-medium text-green-800";
          }
        }

        // Read and process the file
        const reader = new FileReader();
        reader.onload = function (e) {
          try {
            console.log("File loaded, processing...");
            let workbook;

            if (fileName.endsWith(".csv")) {
              // Handle CSV files
              const csvData = e.target.result;
              console.log("Processing CSV data...");
              workbook = XLSX.read(csvData, { type: "string" });
            } else {
              // Handle Excel files
              const data = new Uint8Array(e.target.result);
              console.log("Processing Excel data...");
              workbook = XLSX.read(data, { type: "array" });
            }

            console.log("Workbook created:", workbook);

            // Get the first worksheet
            const firstSheetName = workbook.SheetNames[0];
            const worksheet = workbook.Sheets[firstSheetName];

            console.log("Worksheet selected:", firstSheetName);

            // Convert to JSON
            const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });

            console.log("JSON data:", jsonData);

            if (!jsonData || jsonData.length < 1) {
              throw new Error("File appears to be empty or could not be read");
            }

            if (jsonData.length < 2) {
              throw new Error(
                "File must contain at least a header row and one data row"
              );
            }

            // Process the data and update the table
            processExcelData(jsonData, file.name);
          } catch (error) {
            console.error("Error processing file:", error);

            if (fileStatus && fileStatusText) {
              fileStatusText.textContent = `❌ Error: ${error.message}`;

              // Change to error styling
              const statusContainer = fileStatus.querySelector("div");
              if (statusContainer) {
                statusContainer.className =
                  "bg-red-50 border border-red-200 rounded-lg p-4";
              }
              const statusIcon = fileStatus.querySelector("svg");
              if (statusIcon) {
                statusIcon.className = "h-5 w-5 text-red-400";
              }
              const statusTextElement = fileStatus.querySelector("p");
              if (statusTextElement) {
                statusTextElement.className =
                  "text-sm font-medium text-red-800";
              }
            }

            alert(
              `❌ Error processing file!\n\nError: ${error.message}\n\n💡 Tips:\n• Make sure the file is not corrupted\n• Check that it has proper headers\n• Try downloading and using our template\n• Ensure the file is not password protected`
            );

            // Reset file input
            document.getElementById("excelFile").value = "";
          }
        };

        reader.onerror = function (error) {
          console.error("FileReader error:", error);
          alert(
            "❌ Error reading file!\n\nPlease try again or use a different file."
          );
          document.getElementById("excelFile").value = "";
        };

        // Read the file
        if (fileName.endsWith(".csv")) {
          reader.readAsText(file);
        } else {
          reader.readAsArrayBuffer(file);
        }
      }

      function processExcelData(data, fileName) {
        const headers = data[0];
        const rows = data.slice(1);

        // Find column indices (flexible header matching)
        const findColumnIndex = (searchTerms) => {
          for (let i = 0; i < headers.length; i++) {
            const header = (headers[i] || "").toString().toLowerCase().trim();
            if (
              searchTerms.some((term) => header.includes(term.toLowerCase()))
            ) {
              return i;
            }
          }
          return -1;
        };

        const columnIndices = {
          enrollment: findColumnIndex([
            "enrollment",
            "enroll",
            "student id",
            "id",
            "roll",
            "number",
          ]),
          name: findColumnIndex(["name", "student name", "student"]),
          cia1: findColumnIndex(["cia 1", "cia1", "test 1", "test1", "exam 1"]),
          cia2: findColumnIndex(["cia 2", "cia2", "test 2", "test2", "exam 2"]),
          presentation: findColumnIndex(["presentation", "present"]),
          assignment: findColumnIndex(["assignment", "assign"]),
          attendance: findColumnIndex(["attendance", "attend"]),
        };

        console.log("Column indices found:", columnIndices);
        console.log("Headers:", headers);

        // Update the table
        const tableBody = document.getElementById("marksTableBody");
        if (!tableBody) {
          alert(
            'Error: Could not find the marks table. Please make sure you are on the "Manage Marks" tab.'
          );
          return;
        }

        tableBody.innerHTML = "";

        let validRows = 0;

        rows.forEach((row, index) => {
          if (!row || row.length === 0 || row.every((cell) => !cell)) return;

          const enrollment =
            columnIndices.enrollment >= 0
              ? (row[columnIndices.enrollment] || "").toString().trim()
              : `2324CUKmr${String(index + 1).padStart(2, "0")}`;

          const name =
            columnIndices.name >= 0
              ? (row[columnIndices.name] || "").toString().trim()
              : `Student ${index + 1}`;

          if (!enrollment && !name) return;

          const cia1 =
            columnIndices.cia1 >= 0 ? row[columnIndices.cia1] || "" : "";
          const cia2 =
            columnIndices.cia2 >= 0 ? row[columnIndices.cia2] || "" : "";
          const presentation =
            columnIndices.presentation >= 0
              ? row[columnIndices.presentation] || ""
              : "";
          const assignment =
            columnIndices.assignment >= 0
              ? row[columnIndices.assignment] || ""
              : "";
          const attendance =
            columnIndices.attendance >= 0
              ? row[columnIndices.attendance] || ""
              : "";

          const newRow = document.createElement("tr");
          newRow.className = "border-b hover:bg-gray-50";
          newRow.innerHTML = `
                    <td class="px-4 py-3 text-gray-900 border-r font-medium">${enrollment}</td>
                    <td class="px-4 py-3 text-gray-900 border-r">${name}</td>
                    <td class="px-4 py-3 text-center border-r">
                        <input type="number" value="${cia1}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="15" step="0.5" onchange="calculateTotal(this)">
                    </td>
                    <td class="px-4 py-3 text-center border-r">
                        <input type="number" value="${cia2}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="15" step="0.5" onchange="calculateTotal(this)">
                    </td>
                    <td class="px-4 py-3 text-center border-r">
                        <input type="number" value="${presentation}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="10" step="0.5" onchange="calculateTotal(this)">
                    </td>
                    <td class="px-4 py-3 text-center border-r">
                        <input type="number" value="${assignment}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="5" step="0.5" onchange="calculateTotal(this)">
                    </td>
                    <td class="px-4 py-3 text-center border-r">
                        <input type="number" value="${attendance}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="100" onchange="calculateAttendanceMarks(this)">
                    </td>
                    <td class="px-4 py-3 text-center border-r">
                        <span class="attendance-marks font-semibold text-gray-600">-</span>
                    </td>
                    <td class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks">-</td>
                    <td class="px-4 py-3 text-center bg-gray-50">
                        <span class="px-2 py-1 rounded text-white grade-D grade-display">-</span>
                    </td>
                `;

          tableBody.appendChild(newRow);
          validRows++;

          // Calculate totals for this row if values are provided
          setTimeout(() => {
            if (attendance) {
              const attendanceInput = newRow.querySelector(
                'input[onchange="calculateAttendanceMarks(this)"]'
              );
              calculateAttendanceMarks(attendanceInput);
            }

            if (cia1 || cia2 || presentation || assignment) {
              const firstInput = newRow.querySelector(
                'input[onchange="calculateTotal(this)"]'
              );
              calculateTotal(firstInput);
            }
          }, 100);
        });

        // Show success message
        const fileStatusText = document.getElementById("fileStatusText");
        fileStatusText.textContent = `Excel file "${fileName}" processed successfully! Loaded ${validRows} student records.`;

        // Reset file input
        document.getElementById("excelFile").value = "";

        alert(
          ` File processed successfully!\n\nFile: ${fileName}\n👥 Students loaded: ${validRows}\n\n💡 Tips:\n• All data has been loaded into the table\n• Edit any marks directly in the table\n• Attendance marks calculate automatically\n• Use "Save All Changes" to save your data\n• Use "Export to Excel" to download the updated data`
        );
      }

      function downloadTemplate() {
        try {
          // Create a more comprehensive template
          const templateData = [
            [
              "Enrollment No.",
              "Student Name",
              "CIA 1 (Out of 15)",
              "CIA 2 (Out of 15)",
              "Presentation (Out of 10)",
              "Assignment (Out of 5)",
              "Attendance %",
            ],
            ["ST001", "Nimra Wani", "", "", "", "", ""],
            ["ST002", "Milad Ajaz Bhat", "", "", "", "", ""],
            ["ST003", "Madiha", "", "", "", "", ""],
            ["ST004", "Labeebah", "", "", "", "", ""],
            ["ST005", "Noorain", "", "", "", "", ""],
            ["ST006", "Insha", "", "", "", "", ""],
            ["ST007", "Seerat", "", "", "", "", ""],
            ["ST008", "Aina", "", "", "", "", ""],
            ["ST009", "Inayaa", "", "", "", "", ""],
            ["ST010", "Sofia", "", "", "", "", ""],
          ];

          // Create workbook and worksheet
          const wb = XLSX.utils.book_new();
          const ws = XLSX.utils.aoa_to_sheet(templateData);

          // Set column widths
          ws["!cols"] = [
            { width: 15 }, // Enrollment No.
            { width: 20 }, // Student Name
            { width: 18 }, // CIA 1
            { width: 18 }, // CIA 2
            { width: 20 }, // Presentation
            { width: 18 }, // Assignment
            { width: 15 }, // Attendance %
          ];

          // Add the worksheet to workbook
          XLSX.utils.book_append_sheet(wb, ws, "Student Marks");

          // Generate and download the file
          const fileName = `Student_Marks_Template_${
            new Date().toISOString().split("T")[0]
          }.xlsx`;
          XLSX.writeFile(wb, fileName);

          alert(
            "Template downloaded successfully!\n\n Instructions:\n1. Fill in the student marks in the downloaded Excel file\n2. Keep the column headers exactly as they are\n3. Upload the completed file using the upload area above\n\n💡 Tip: You can add more students by copying the row format"
          );
        } catch (error) {
          console.error("Error creating template:", error);

          // Fallback to CSV if Excel generation fails
          const csvContent = `Enrollment No.,Student Name,CIA 1 (Out of 10),CIA 2 (Out of 10),Presentation (Out of 10),Assignment (Out of 5),Attendance %
ST001,Nimra Wani,,,,,
ST002,Milad Ajaz Bhat,,,,,
ST003,Madiha,,,,,
ST004,Labeebah,,,,,
ST005,Noorain,,,,,
ST006,Insha,,,,,
ST007,Seerat,,,,,
ST008,Aina,,,,,
ST009,Inayaa,,,,,
ST010,Sofia,,,,,`;

          const blob = new Blob([csvContent], { type: "text/csv" });
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = `Student_Marks_Template_${
            new Date().toISOString().split("T")[0]
          }.csv`;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          window.URL.revokeObjectURL(url);

          alert(
            " CSV Template downloaded successfully!\n\nNote: Excel generation failed, so a CSV template was created instead."
          );
        }
      }

      function loadSubjectMarks() {
        const subject = document.getElementById("subjectSelectTeacher").value;
        const subjectName = document.getElementById("currentSubjectName");

        // Update subject name display
        const subjectNames = {
          mathematics: "Mathematics",
          physics: "Physics",
          chemistry: "Chemistry",
          "computer-science": "Computer Science",
        };

        subjectName.textContent = subjectNames[subject] || "Mathematics";

        // In a real application, you would load different data for each subject
        alert(`Loading marks for ${subjectNames[subject]}...`);
      }

      function calculateAttendanceMarks(input) {
        const attendance = parseFloat(input.value) || 0;
        const row = input.closest("tr");
        const attendanceMarksSpan = row.querySelector(".attendance-marks");

        let marks = 0;
        let status = "";
        let colorClass = "";

        if (attendance >= 95) {
          marks = 5;
          status = "5";
          colorClass = "text-green-600";
        } else if (attendance >= 90) {
          marks = 4;
          status = "4";
          colorClass = "text-blue-600";
        } else if (attendance >= 85) {
          marks = 3;
          status = "3";
          colorClass = "text-yellow-600";
        } else if (attendance >= 80) {
          marks = 2;
          status = "2";
          colorClass = "text-orange-600";
        } else if (attendance >= 75) {
          marks = 1;
          status = "1";
          colorClass = "text-purple-600";
        } else {
          marks = 0;
          status = "0 (Ineligible)";
          colorClass = "text-red-600";
        }

        attendanceMarksSpan.textContent = status;
        attendanceMarksSpan.className = `attendance-marks font-semibold ${colorClass}`;

        // Recalculate total
        calculateTotal(input);
      }

      function calculateTotal(input) {
        const row = input.closest("tr");
        const inputs = row.querySelectorAll('input[type="number"]');

        // Get all marks (excluding attendance percentage)
        const test1 = parseFloat(inputs[0].value) || 0;
        const test2 = parseFloat(inputs[1].value) || 0;
        const presentation = parseFloat(inputs[2].value) || 0;
        const assignment = parseFloat(inputs[3].value) || 0;

        // Get attendance marks from the span
        const attendanceMarksText =
          row.querySelector(".attendance-marks").textContent;
        const attendanceMarks = attendanceMarksText.includes("Ineligible")
          ? 0
          : parseFloat(attendanceMarksText) || 0;

        // Calculate total (out of 50)
        const total =
          test1 + test2 + presentation + assignment + attendanceMarks;

        // Update total display
        const totalCell = row.querySelector(".total-marks");
        totalCell.textContent = total.toFixed(1);

        // Calculate and update grade (based on 50 marks)
        const gradeSpan = row.querySelector(".grade-display");
        let grade = "F";
        let gradeClass = "grade-D";

        if (total >= 45) {
          grade = "A+";
          gradeClass = "grade-A";
        } else if (total >= 40) {
          grade = "A";
          gradeClass = "grade-A";
        } else if (total >= 35) {
          grade = "B+";
          gradeClass = "grade-B";
        } else if (total >= 30) {
          grade = "B";
          gradeClass = "grade-B";
        } else if (total >= 25) {
          grade = "C";
          gradeClass = "grade-C";
        } else {
          grade = "F";
          gradeClass = "grade-D";
        }

        gradeSpan.textContent = grade;
        gradeSpan.className = `px-2 py-1 rounded text-white ${gradeClass} grade-display`;
      }

      function exportMarks() {
        const subject = document.getElementById("subjectSelectTeacher").value;
        const subjectNames = {
          mathematics: "Mathematics",
          physics: "Physics",
          chemistry: "Chemistry",
          "computer-science": "Computer Science",
        };

        // Get table data
        const table = document.getElementById("marksTable");
        const rows = table.querySelectorAll("tbody tr");

        let csvContent =
          "Enrollment No.,Student Name,CIA 1,CIA 2,Presentation,Assignment,Attendance %,Attendance Marks,Total,Grade\n";

        rows.forEach((row) => {
          const cells = row.querySelectorAll("td");
          const enrollmentNo = cells[0].textContent.trim();
          const studentName = cells[1].textContent.trim();
          const cia1 = cells[2].querySelector("input").value;
          const cia2 = cells[3].querySelector("input").value;
          const presentation = cells[4].querySelector("input").value;
          const assignment = cells[5].querySelector("input").value;
          const attendancePercent = cells[6].querySelector("input").value;
          const attendanceMarks = cells[7].textContent.trim();
          const total = cells[8].textContent.trim();
          const grade = cells[9].querySelector("span").textContent.trim();

          csvContent += `${enrollmentNo},${studentName},${cia1},${cia2},${presentation},${assignment},${attendancePercent},${attendanceMarks},${total},${grade}\n`;
        });

        // Create and download file
        const blob = new Blob([csvContent], { type: "text/csv" });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `${subjectNames[subject]}_Marks_${
          new Date().toISOString().split("T")[0]
        }.csv`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);

        alert(`Marks exported successfully for ${subjectNames[subject]}!`);
      }

      function saveAllMarks() {
        // In a real application, this would save to a database
        const subject = document.getElementById("subjectSelectTeacher").value;
        const subjectNames = {
          mathematics: "Mathematics",
          physics: "Physics",
          chemistry: "Chemistry",
          "computer-science": "Computer Science",
        };

        // Show loading state
        const button = event.target;
        const originalText = button.textContent;
        button.textContent = " Saving...";
        button.disabled = true;

        setTimeout(() => {
          button.textContent = originalText;
          button.disabled = false;
          alert(
            `All marks for ${subjectNames[subject]} have been saved successfully!`
          );
        }, 2000);
      }

      // Drag and drop functionality
      function setupDragAndDrop() {
        const dropZone = document.getElementById("dropZone");

        if (!dropZone) return;

        // Prevent default drag behaviors
        ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
          dropZone.addEventListener(eventName, preventDefaults, false);
          document.body.addEventListener(eventName, preventDefaults, false);
        });

        // Highlight drop zone when item is dragged over it
        ["dragenter", "dragover"].forEach((eventName) => {
          dropZone.addEventListener(eventName, highlight, false);
        });

        ["dragleave", "drop"].forEach((eventName) => {
          dropZone.addEventListener(eventName, unhighlight, false);
        });

        // Handle dropped files
        dropZone.addEventListener("drop", handleDrop, false);

        function preventDefaults(e) {
          e.preventDefault();
          e.stopPropagation();
        }

        function highlight(e) {
          dropZone.classList.add("border-blue-500", "bg-blue-50");
        }

        function unhighlight(e) {
          dropZone.classList.remove("border-blue-500", "bg-blue-50");
        }

        function handleDrop(e) {
          const dt = e.dataTransfer;
          const files = dt.files;

          if (files.length > 0) {
            const file = files[0];
            // Create a fake event object to pass to handleExcelUpload
            const fakeEvent = {
              target: {
                files: [file],
              },
            };
            handleExcelUpload(fakeEvent);
          }
        }
      }

      // Load sample data function
      function loadSampleData() {
        if (
          confirm(
            " Load Sample Data?\n\nThis will replace any existing data in the table with sample marks for all students.\n\nContinue?"
          )
        ) {
          const tableBody = document.getElementById("marksTableBody");
          if (!tableBody) {
            alert(
              ' Error: Please make sure you are on the "Manage Marks" tab.'
            );
            return;
          }

          // Sample data for the first 10 students
          const sampleData = [
            ["2324CUKmr01", "ABDUL WARIS", "12", "13", "8.5", "4", "95"],
            ["2324CUKmr02", "ABRAAR SAJAD", "11", "14", "9", "5", "88"],
            ["2324CUKmr03", "ADNAAN ZARGAR", "13", "12", "7.5", "4", "92"],
            ["2324CUKmr04", "AFAAN HUSSAIN", "10", "11", "8", "3", "85"],
            ["2324CUKmr05", "AINAM MUSHTAQ", "14", "15", "9.5", "5", "98"],
            ["2324CUKmr06", "ALEEM KANYU", "9", "10", "7", "3", "78"],
            ["2324CUKmr07", "ARSALAN YOUSUF", "12", "13", "8.5", "4", "90"],
            ["2324CUKmr08", "ASEEF BANDEY", "11", "12", "8", "4", "87"],
            ["2324CUKmr09", "ATISHAM", "13", "14", "9", "5", "94"],
            ["2324CUKmr10", "BIAL AHMAD", "10", "9", "7.5", "3", "82"],
          ];

          tableBody.innerHTML = "";

          sampleData.forEach((rowData, index) => {
            const newRow = document.createElement("tr");
            newRow.className = "border-b hover:bg-gray-50";
            newRow.innerHTML = `
                        <td class="px-4 py-3 text-gray-900 border-r font-medium">${rowData[0]}</td>
                        <td class="px-4 py-3 text-gray-900 border-r">${rowData[1]}</td>
                        <td class="px-4 py-3 text-center border-r">
                            <input type="number" value="${rowData[2]}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="15" step="0.5" onchange="calculateTotal(this)">
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                            <input type="number" value="${rowData[3]}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="15" step="0.5" onchange="calculateTotal(this)">
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                            <input type="number" value="${rowData[4]}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="10" step="0.5" onchange="calculateTotal(this)">
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                            <input type="number" value="${rowData[5]}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="5" step="0.5" onchange="calculateTotal(this)">
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                            <input type="number" value="${rowData[6]}" class="w-16 px-2 py-1 border rounded bg-white text-gray-900 text-center" min="0" max="100" onchange="calculateAttendanceMarks(this)">
                        </td>
                        <td class="px-4 py-3 text-center border-r">
                            <span class="attendance-marks font-semibold text-gray-600">-</span>
                        </td>
                        <td class="px-4 py-3 text-center bg-gray-50 font-semibold total-marks">-</td>
                        <td class="px-4 py-3 text-center bg-gray-50">
                            <span class="px-2 py-1 rounded text-white grade-D grade-display">-</span>
                        </td>
                    `;

            tableBody.appendChild(newRow);

            // Calculate totals for this row
            setTimeout(() => {
              const attendanceInput = newRow.querySelector(
                'input[onchange="calculateAttendanceMarks(this)"]'
              );
              calculateAttendanceMarks(attendanceInput);

              const firstInput = newRow.querySelector(
                'input[onchange="calculateTotal(this)"]'
              );
              calculateTotal(firstInput);
            }, 50);
          });

          alert(
            " Sample data loaded successfully!\n\n Loaded 10 students with sample marks\n You can now edit any marks directly in the table"
          );
        }
      }

      // Clear all data function
      function clearAllData() {
        if (
          confirm(
            " Clear All Data?\n\n This will remove all student data from the table.\n\nThis action cannot be undone. Continue?"
          )
        ) {
          const tableBody = document.getElementById("marksTableBody");
          if (tableBody) {
            tableBody.innerHTML = `
                        <tr class="text-center">
                            <td colspan="10" class="px-4 py-8 text-gray-500">
                                <div class="text-4xl mb-2"></div>
                                <div class="text-lg font-medium">No student data</div>
                                <div class="text-sm">Upload an Excel file or load sample data to get started</div>
                            </td>
                        </tr>
                    `;

            // Hide file status
            const fileStatus = document.getElementById("fileStatus");
            if (fileStatus) {
              fileStatus.classList.add("hidden");
            }

            alert(
              " Table cleared successfully!\n\n You can now:\n• Upload a new Excel file\n• Load sample data\n• Add students manually"
            );
          }
        }
      }

      // Initialize drag and drop when page loads
      document.addEventListener("DOMContentLoaded", function () {
        setupDragAndDrop();
      });

      // Close modal when clicking outside
      document
        .getElementById("loginModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeLoginModal();
          }
        });

        

    </script>

   <!-- Footer -->
    <footer class="bg-gray-900 text-white mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- University Info -->
                <div>
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-green-700 to-blue-800 rounded-full flex items-center justify-center shadow-lg">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/>
                            <img src="./images/CUK_New_Logo.png">
                              </svg>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-lg font-bold">Central University of Kashmir</h3>
                            <p class="text-gray-400 text-sm">Academic Excellence</p>
                        </div>
                    </div>
                    <p class="text-gray-400 text-sm">
                        Empowering students through quality education and innovative learning solutions.
                    </p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Academic Calendar</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Student Handbook</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Faculty Directory</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Library Resources</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Support Center</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact Information</h4>
                    <div class="space-y-2 text-sm text-gray-400">
                        <div class="flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                            </svg>
                            Ganderbal, Jammu & Kashmir, India
                        </div>
                        <div class="flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                            </svg>
                            +91 7006526348
                        </div>
                        <div class="flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                            </svg>
                            nimrawani04@cukashmir.edu.in
                        </div>
                    </div>
                </div>
            </div>

            <!-- Copyright Section -->
            <div class="border-t border-gray-800 mt-8 pt-6">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    
               <p class="text-sm text-center">
                       © <script>document.write(new Date().getFullYear());</script> Central University of Kashmir | Developed by
                       <a href="https://nimrawani04.github.io/portfolio/" class="text-primary-blue hover:underline">Nimra Wani</a> | All Rights Reserved.
              </p>
                    <div class="flex space-x-6 text-sm text-gray-400">
                        <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
                        <a href="#" class="hover:text-white transition-colors">Terms of Service</a>
                        <a href="#" class="hover:text-white transition-colors">Accessibility</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'971349d1e7e2d89e',t:'MTc1NTUzOTc5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
  </body>
</html>

